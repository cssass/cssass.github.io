<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mr.Drive2Far</title>
  
  <subtitle>开过头先生的主页</subtitle>
  <link href="https://www.cssass.com/atom.xml" rel="self"/>
  
  <link href="https://www.cssass.com/"/>
  <updated>2023-06-27T08:06:18.349Z</updated>
  <id>https://www.cssass.com/</id>
  
  <author>
    <name>Neo One</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hello World</title>
    <link href="https://www.cssass.com/2023/06/27/hello-world/"/>
    <id>https://www.cssass.com/2023/06/27/hello-world/</id>
    <published>2023-06-27T08:06:18.348Z</published>
    <updated>2023-06-27T08:06:18.349Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>用canvas绘制复杂图形</title>
    <link href="https://www.cssass.com/2011/01/21/%E7%94%A8canvas%E7%BB%98%E5%88%B6%E5%A4%8D%E6%9D%82%E5%9B%BE%E5%BD%A2/"/>
    <id>https://www.cssass.com/2011/01/21/%E7%94%A8canvas%E7%BB%98%E5%88%B6%E5%A4%8D%E6%9D%82%E5%9B%BE%E5%BD%A2/</id>
    <published>2011-01-21T09:08:45.000Z</published>
    <updated>2023-06-28T09:12:43.335Z</updated>
    
    <content type="html"><![CDATA[<p>在闪吧看见一棵树，移植到canvas+javascript里来。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;Tree&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;pad&quot; width=&#x27;1000&#x27; height=&#x27;500&#x27;&gt;&lt;a href=&#x27;http://www.cssass.com&#x27;&gt;cssass.com&lt;/a&gt;提醒您：ie9以下用户请一边惭愧去吧&lt;/canvas&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var con=document.getElementById(&quot;pad&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">con.strokeStyle = &#x27;#000&#x27;;</span><br><span class="line">con.lineWidth=0.8;</span><br><span class="line">function dw(ax, ay, bx, by) &#123;</span><br><span class="line">con.beginPath()</span><br><span class="line">con.moveTo(ax, ay);</span><br><span class="line">con.lineTo(bx, by);</span><br><span class="line">con.stroke();</span><br><span class="line">&#125;</span><br><span class="line">function lzh(x, y, l, angle, n) &#123;</span><br><span class="line">if (n&gt;0) &#123;</span><br><span class="line">var a_l, a_r, x1, y1, x2, y2, y2_l;</span><br><span class="line">x1 = x+0.5*l*Math.cos(angle*Math.PI/180);</span><br><span class="line">y1 = y-0.5*l*Math.sin(angle*Math.PI/180);</span><br><span class="line">x2 = x+l*Math.cos(angle*Math.PI/180);</span><br><span class="line">y2 = y-l*Math.sin(angle*Math.PI/180);</span><br><span class="line">dw(x, y, x2, y2);</span><br><span class="line">a_l = angle+30;</span><br><span class="line">a_r = angle-30;</span><br><span class="line">l=l*2/3</span><br><span class="line">lzh(x2, y2, l, angle+rand, n-1);</span><br><span class="line">lzh(x1, y1, l*2/3, a_l+rand/2, n-1);</span><br><span class="line">lzh(x1, y1, l*2/3, a_r+rand/2, n-1);</span><br><span class="line">lzh(x2, y2, l*2/3, a_l+rand/2, n-1);</span><br><span class="line">lzh(x2, y2, l*2/3, a_r+rand/2, n-1);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">var rand=2-Math.random()*10</span><br><span class="line">lzh(300, 400, 100, 90, 6);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>用setInterval让它动起来</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;Tree&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;pad&quot; width=&#x27;1000&#x27; height=&#x27;500&#x27;&gt;&lt;a href=&#x27;http://www.cssass.com&#x27;&gt;cssass.com&lt;/a&gt;提醒您：ie9以下用户请一边惭愧去吧&lt;/canvas&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var con=document.getElementById(&quot;pad&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">    con.strokeStyle = &#x27;#000&#x27;;</span><br><span class="line">    con.lineWidth=0.8;</span><br><span class="line">var Tree=function(x, y, l, angle, n)&#123;</span><br><span class="line">    var a=[],rand=0,dir=1,val;</span><br><span class="line">    this.init=function(x, y, l, angle, n) &#123;</span><br><span class="line">        var that=this;</span><br><span class="line">        if (n&gt;0) &#123;</span><br><span class="line">            var a_l, a_r, x1, y1, x2, y2;</span><br><span class="line">            x1 = x+0.5*l*Math.cos(angle*Math.PI/180);</span><br><span class="line">            y1 = y-0.5*l*Math.sin(angle*Math.PI/180);</span><br><span class="line">            x2 = x+l*Math.cos(angle*Math.PI/180);</span><br><span class="line">            y2 = y-l*Math.sin(angle*Math.PI/180);</span><br><span class="line">            a.push([x, y, x2, y2]);</span><br><span class="line">            a_l = angle+30;</span><br><span class="line">            a_r = angle-30;</span><br><span class="line">            l=l*2/3;</span><br><span class="line">            that.init(x2, y2, l, angle+rand, n-1);</span><br><span class="line">            that.init(x1, y1, l*2/3, a_l+rand/2, n-1);</span><br><span class="line">            that.init(x1, y1, l*2/3, a_r+rand/2, n-1);</span><br><span class="line">            that.init(x2, y2, l*2/3, a_l+rand/2, n-1);</span><br><span class="line">            that.init(x2, y2, l*2/3, a_r+rand/2, n-1);</span><br><span class="line">         &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    this.run=function()&#123;</span><br><span class="line">con.clearRect(0,0,1000,500);</span><br><span class="line">        for(var i=0; i&lt;a.length; i++)&#123;</span><br><span class="line">            this.dw(a[i][0],a[i][1],a[i][2],a[i][3]);</span><br><span class="line">        &#125;;</span><br><span class="line">a=[];</span><br><span class="line">    &#125;;</span><br><span class="line">this.move=function()&#123;</span><br><span class="line">var that = this;</span><br><span class="line">var _s=function()&#123;</span><br><span class="line">that.change();</span><br><span class="line">that.init(x, y, l, angle, n);</span><br><span class="line">that.run();</span><br><span class="line">setTimeout(_s,100);</span><br><span class="line">&#125;;</span><br><span class="line">_s();</span><br><span class="line">&#125;;</span><br><span class="line">this.change=function()&#123;</span><br><span class="line">val=Math.random()*2;</span><br><span class="line">rand+=dir*val;</span><br><span class="line">if(rand&gt;10 || rand&lt;-2)&#123;dir=-dir;&#125;</span><br><span class="line">&#125;;</span><br><span class="line">this.init(x, y, l, angle, n);</span><br><span class="line">this.run();</span><br><span class="line">&#125;;</span><br><span class="line">Tree.prototype.dw=function(ax, ay, bx, by)&#123;</span><br><span class="line">    con.beginPath()</span><br><span class="line">    con.moveTo(ax, ay);</span><br><span class="line">    con.lineTo(bx, by);</span><br><span class="line">    con.stroke();</span><br><span class="line">&#125;;</span><br><span class="line">new Tree(300, 400, 100, 90, 6).move();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>补充：<br>除了setTimeout&#x2F;setInterval这两个函数控制动画外。现在很多浏览器还提供了另一个函数requestAnimationFrame，这个函数接口所拥有的优势是：</p><p>对于一个侦中对DOM的所有操作，只进行一次Layout和Paint。<br>如果发生动画的元素被隐藏了，那么就不再去Paint。</p><p>不过这个方法的使用只类似于递归调用，并没有一个时间停顿，所以我们一般要根据记录时间间隔来决定动画的每一帧的绘制情况。<br>下面用requestAnimationFrame来完成上面的动画。由于requestAnimationFrame的兼容性，我们需要先写一个兼容性的方法（来自three.js）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">(function() &#123;</span><br><span class="line">    /* 兼容requestAnimationFrame */</span><br><span class="line">    var lastTime = 0;</span><br><span class="line">    var vendors = [&#x27;ms&#x27;, &#x27;moz&#x27;, &#x27;webkit&#x27;, &#x27;o&#x27;];</span><br><span class="line">    for(var x = 0; x &lt; vendors.length &amp;&amp; !window.requestAnimationFrame; ++x) &#123;</span><br><span class="line">        window.requestAnimationFrame = window[vendors[x]+&#x27;RequestAnimationFrame&#x27;];</span><br><span class="line">        window.cancelAnimationFrame = window[vendors[x]+&#x27;CancelAnimationFrame&#x27;] </span><br><span class="line">                                   || window[vendors[x]+&#x27;RequestCancelAnimationFrame&#x27;];</span><br><span class="line">    &#125;</span><br><span class="line">    if (!window.requestAnimationFrame)</span><br><span class="line">        window.requestAnimationFrame = function(callback, element) &#123;</span><br><span class="line">            var currTime = new Date().getTime();</span><br><span class="line">            var timeToCall = Math.max(0, 16 - (currTime - lastTime));</span><br><span class="line">            var id = window.setTimeout(function() &#123; callback(currTime + timeToCall); &#125;,</span><br><span class="line">              timeToCall);</span><br><span class="line">            lastTime = currTime + timeToCall;</span><br><span class="line">            return id;</span><br><span class="line">        &#125;;</span><br><span class="line">    if (!window.cancelAnimationFrame)</span><br><span class="line">        window.cancelAnimationFrame = function(id) &#123;</span><br><span class="line">            clearTimeout(id);</span><br><span class="line">        &#125;;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;Tree&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;pad&quot; width=&#x27;1000&#x27; height=&#x27;500&#x27;&gt;&lt;a href=&#x27;http://www.cssass.com&#x27;&gt;cssass.com&lt;/a&gt;提醒您：ie9以下用户请一边惭愧去吧&lt;/canvas&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">(function() &#123;</span><br><span class="line">/* 兼容requestAnimationFrame */</span><br><span class="line">    var lastTime = 0;</span><br><span class="line">    var vendors = [&#x27;ms&#x27;, &#x27;moz&#x27;, &#x27;webkit&#x27;, &#x27;o&#x27;];</span><br><span class="line">    for(var x = 0; x &lt; vendors.length &amp;&amp; !window.requestAnimationFrame; ++x) &#123;</span><br><span class="line">        window.requestAnimationFrame = window[vendors[x]+&#x27;RequestAnimationFrame&#x27;];</span><br><span class="line">        window.cancelAnimationFrame = window[vendors[x]+&#x27;CancelAnimationFrame&#x27;]</span><br><span class="line">                                   || window[vendors[x]+&#x27;RequestCancelAnimationFrame&#x27;];</span><br><span class="line">    &#125;</span><br><span class="line">    if (!window.requestAnimationFrame)</span><br><span class="line">        window.requestAnimationFrame = function(callback, element) &#123;</span><br><span class="line">            var currTime = new Date().getTime();</span><br><span class="line">            var timeToCall = Math.max(0, 16 - (currTime - lastTime));</span><br><span class="line">            var id = window.setTimeout(function() &#123; callback(currTime + timeToCall); &#125;,</span><br><span class="line">              timeToCall);</span><br><span class="line">            lastTime = currTime + timeToCall;</span><br><span class="line">            return id;</span><br><span class="line">        &#125;;</span><br><span class="line">    if (!window.cancelAnimationFrame)</span><br><span class="line">        window.cancelAnimationFrame = function(id) &#123;</span><br><span class="line">            clearTimeout(id);</span><br><span class="line">        &#125;;</span><br><span class="line">&#125;());</span><br><span class="line">var con = document.getElementById(&quot;pad&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">    con.strokeStyle = &#x27;#000&#x27;;</span><br><span class="line">    con.lineWidth=0.8;</span><br><span class="line">var Tree = function(x, y, l, angle, n)&#123;</span><br><span class="line">    var a=[],rand=0,dir=1,val;</span><br><span class="line">    this.init = function(x, y, l, angle, n) &#123;</span><br><span class="line">        var that = this;</span><br><span class="line">        if (n&gt;0) &#123;</span><br><span class="line">            var a_l, a_r, x1, y1, x2, y2;</span><br><span class="line">            x1 = x+0.5*l*Math.cos(angle*Math.PI/180);</span><br><span class="line">            y1 = y-0.5*l*Math.sin(angle*Math.PI/180);</span><br><span class="line">            x2 = x+l*Math.cos(angle*Math.PI/180);</span><br><span class="line">            y2 = y-l*Math.sin(angle*Math.PI/180);</span><br><span class="line">            a.push([x, y, x2, y2]);</span><br><span class="line">            a_l = angle+30;</span><br><span class="line">            a_r = angle-30;</span><br><span class="line">            l=l*2/3;</span><br><span class="line">            that.init(x2, y2, l, angle+rand, n-1);</span><br><span class="line">            that.init(x1, y1, l*2/3, a_l+rand/2, n-1);</span><br><span class="line">            that.init(x1, y1, l*2/3, a_r+rand/2, n-1);</span><br><span class="line">            that.init(x2, y2, l*2/3, a_l+rand/2, n-1);</span><br><span class="line">            that.init(x2, y2, l*2/3, a_r+rand/2, n-1);</span><br><span class="line">         &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    this.run=function()&#123;</span><br><span class="line">con.clearRect(0,0,1000,500);</span><br><span class="line">        for(var i=0; i&lt;a.length; i++)&#123;</span><br><span class="line">            this.dw(a[i][0],a[i][1],a[i][2],a[i][3]);</span><br><span class="line">        &#125;;</span><br><span class="line">a=[];</span><br><span class="line">    &#125;;</span><br><span class="line">this.move = function()&#123;</span><br><span class="line">var that = this;</span><br><span class="line">var start = new Date().getTime(),</span><br><span class="line">delta;</span><br><span class="line">(function _s()&#123;</span><br><span class="line">delta = new Date().getTime() - start;</span><br><span class="line">if( delta &gt; 100 )&#123;</span><br><span class="line">start = new Date().getTime();</span><br><span class="line">that.change();</span><br><span class="line">that.init(x, y, l, angle, n);</span><br><span class="line">that.run();</span><br><span class="line">&#125;</span><br><span class="line">return requestAnimationFrame(_s)</span><br><span class="line">&#125;)();</span><br><span class="line">&#125;;</span><br><span class="line">this.change=function()&#123;</span><br><span class="line">val = Math.random()*2;</span><br><span class="line">rand += dir*val;</span><br><span class="line">if (rand &gt;10 || rand &lt; -2)&#123; dir = -dir; &#125;</span><br><span class="line">&#125;;</span><br><span class="line">this.init(x, y, l, angle, n);</span><br><span class="line">this.run();</span><br><span class="line">&#125;;</span><br><span class="line">Tree.prototype.dw=function(ax, ay, bx, by)&#123;</span><br><span class="line">    con.beginPath()</span><br><span class="line">    con.moveTo(ax, ay);</span><br><span class="line">    con.lineTo(bx, by);</span><br><span class="line">    con.stroke();</span><br><span class="line">&#125;;</span><br><span class="line">new Tree(300, 400, 100, 90, 6).move();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>再画几个图形：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;那些花儿&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">html,body&#123;height:100%;overflow:hidden;background:#333;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;pad&quot; width=&#x27;2000&#x27; height=&#x27;1000&#x27;&gt;&lt;a href=&#x27;http://www.cssass.com&#x27;&gt;cssass.com&lt;/a&gt;提醒您：ie9以下用户请一边惭愧去吧&lt;/canvas&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var con=document.getElementById(&quot;pad&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">con.strokeStyle = &#x27;rgba(255,255,255,0.5)&#x27;;</span><br><span class="line">con.lineJoin = &#x27;round&#x27;;</span><br><span class="line">con.lineCap = &#x27;round&#x27;;</span><br><span class="line">con.lineWidth=.5;</span><br><span class="line">function Tad(x,y,c)&#123; /* 位置，角数 */</span><br><span class="line">var l,r,n,k,mx;</span><br><span class="line">var xt=0, yt=0, angle=0 ,a=[];</span><br><span class="line">r=360/c; //每只角分到的度数</span><br><span class="line">var t=5; //转角</span><br><span class="line">while(t&gt;1)&#123;</span><br><span class="line">if(r%t===0) break;</span><br><span class="line">t--;</span><br><span class="line">&#125;;</span><br><span class="line">n=360/t; //总线条数</span><br><span class="line">k=r/t; //每只角分到的线条数</span><br><span class="line">this.init=function()&#123;</span><br><span class="line">if(a.length&lt;n)&#123;</span><br><span class="line">angle+=t;</span><br><span class="line">a.unshift(angle);  //存储所有转角</span><br><span class="line">this.init();</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">this.change=function()&#123;</span><br><span class="line">angle+=t;</span><br><span class="line">a.unshift(angle)</span><br><span class="line">a.pop(angle);</span><br><span class="line">this.body(x,y);</span><br><span class="line">&#125;;</span><br><span class="line">this.body=function() &#123;</span><br><span class="line">l=0; //线长(初始)</span><br><span class="line">o=c; //每次增加的线长.这个值可以自定义</span><br><span class="line">mx=l+ k*o + 10; //直径(最大值)</span><br><span class="line">con.clearRect(x-mx/2, y-mx/2, mx, mx);</span><br><span class="line">for(var i=1; i&lt;a.length; i++) &#123;</span><br><span class="line">l+=o;</span><br><span class="line">if(Math.floor(i%(k/2))===0) &#123; //峰谷时反向</span><br><span class="line">o=-o;</span><br><span class="line">if(i%(k/2)===0.5) &#123;l+=o;&#125; //遇到k是奇数的情况。如c=8时。</span><br><span class="line">&#125;</span><br><span class="line">xt = l*Math.cos(a[i-1]*Math.PI/180);</span><br><span class="line">yt = l*Math.sin(a[i-1]*Math.PI/180);</span><br><span class="line">this.dw(x, y, x+xt, y-yt);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">this.init();</span><br><span class="line">this.body();</span><br><span class="line">&#125;</span><br><span class="line">Tad.prototype.move=function()&#123;</span><br><span class="line">var that = this;</span><br><span class="line">var _s=function()&#123;</span><br><span class="line">that.change();</span><br><span class="line">setTimeout(_s,100);</span><br><span class="line">&#125;</span><br><span class="line">_s();</span><br><span class="line">&#125;;</span><br><span class="line">Tad.prototype.dw=function(ax, ay, bx, by) &#123;</span><br><span class="line">con.beginPath();</span><br><span class="line">con.moveTo(ax, ay);</span><br><span class="line">con.lineTo(bx, by);</span><br><span class="line">con.stroke();</span><br><span class="line">&#125;;</span><br><span class="line">new Tad(100,100,15).move();</span><br><span class="line">new Tad(200,100,12).move();</span><br><span class="line">new Tad(300,100,9).move();</span><br><span class="line">new Tad(400,100,8).move();</span><br><span class="line">new Tad(500,100,6).move();</span><br><span class="line">new Tad(100,200,5).move();</span><br><span class="line">new Tad(200,200,4).move();</span><br><span class="line">new Tad(300,200,3).move();</span><br><span class="line">new Tad(400,200,2).move();</span><br><span class="line">new Tad(500,200,1).move();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在闪吧看见一棵树，移植到canvas+javascript里来。&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;b</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>两个canvas动画</title>
    <link href="https://www.cssass.com/2010/12/27/%E4%B8%A4%E4%B8%AAcanvas%E5%8A%A8%E7%94%BB/"/>
    <id>https://www.cssass.com/2010/12/27/%E4%B8%A4%E4%B8%AAcanvas%E5%8A%A8%E7%94%BB/</id>
    <published>2010-12-27T09:01:26.000Z</published>
    <updated>2023-06-28T09:03:35.046Z</updated>
    
    <content type="html"><![CDATA[<p>几星期前参加ie9开发大赛做了一个《ie9大风车》（呃，我承认名字很挫）。</p><p>这个小玩意的难度在于，里面的所有东西都不是图片，而是用canvas写的，之前写的贝塞尔曲线的可视化操作实现倒是帮了大忙，不过据说AI已有插件直接导出canvas绘图代码了，那我的手写代码的生产力就太落后了。</p><p>支持的浏览器包括ie9,firefox,chrome,safari。在opera下有个bug,暂时无法修复。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;IE9 Pinwheel&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*</span><br><span class="line">*IE9大风车</span><br><span class="line">*author: ONEBOYS</span><br><span class="line">*blog: http://www.cssass.com</span><br><span class="line">*谢谢观赏</span><br><span class="line">*/</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">html,body&#123;height:100%;overflow:hidden;text-align:center;&#125;</span><br><span class="line">#middle&#123;position:relative;z-index:2;width:750px;margin:0 auto;&#125;</span><br><span class="line">#middle canvas&#123;position:relative;&#125;</span><br><span class="line">#bg&#123;position:absolute;z-index:1;top:0;left:0;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body &gt;</span><br><span class="line">&lt;canvas id=&quot;bg&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;div id=&#x27;middle&#x27;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var G=&#123;&#125;</span><br><span class="line">G.$=function(n)&#123;</span><br><span class="line">return document.getElementById(n) || n;</span><br><span class="line">&#125;</span><br><span class="line">G.scrW=function()&#123;return document.body.offsetWidth;&#125;</span><br><span class="line">G.scrH=function()&#123;return document.body.offsetHeight;&#125;</span><br><span class="line">function Pad()&#123;</span><br><span class="line">var m=1, sign=1, lineWidth=3;</span><br><span class="line">this.init = function(o)&#123;</span><br><span class="line">this.create(o.name);</span><br><span class="line">this.S= o.size || 150; //pad尺寸</span><br><span class="line">this.radius = this.S/3; //logo半径</span><br><span class="line">this.posX = this.S/2; //logo原点位置</span><br><span class="line">this.posY = this.S/2;</span><br><span class="line">this.turn = o.turn || 8;//补间时限</span><br><span class="line">this.con = G.$(o.name).getContext(&#x27;2d&#x27;);</span><br><span class="line">this.timeout = null;</span><br><span class="line">this.radi=this.con.createRadialGradient(-this.radius * 0.1,-this.radius * 0.2, this.radius * 0.5 , 0 , -this.radius * 0.1, this.radius *1.1);  //logo渐变</span><br><span class="line">this.radi.addColorStop(0, &#x27;rgba(126,226,253,1)&#x27;);</span><br><span class="line">this.radi.addColorStop(0.6, &#x27;rgba(69,182,239,1)&#x27;);</span><br><span class="line">this.radi.addColorStop(1, &#x27;rgba(20,133,211,1)&#x27;);</span><br><span class="line">this.radi2= this.con.createLinearGradient(this.radius * 2.2 , this.radius * 0.2 , this.radius * 0.2 , this.radius * 2.2); //光环渐变</span><br><span class="line">this.radi2.addColorStop(0, &#x27;rgba(255,187,44,.9)&#x27;);</span><br><span class="line">this.radi2.addColorStop(0.5, &#x27;rgba(255,242,102,.9)&#x27;);</span><br><span class="line">this.radi2.addColorStop(1, &#x27;rgba(255,187,44,.9)&#x27;);</span><br><span class="line">G.$(o.name).width=this.S;</span><br><span class="line">G.$(o.name).height=this.S;</span><br><span class="line">this.run();</span><br><span class="line">&#125;;</span><br><span class="line">this.create = function(n)&#123; //创建canvas</span><br><span class="line">var temp=document.createElement(&#x27;canvas&#x27;);</span><br><span class="line">var that = this;</span><br><span class="line">temp.id=n;</span><br><span class="line">var bind=function()&#123;</span><br><span class="line">clearTimeout(that.timeout);</span><br><span class="line">that.turn = 3;</span><br><span class="line">that.run();</span><br><span class="line">&#125;;</span><br><span class="line">var drag=function()&#123;</span><br><span class="line">var o=this,e=arguments[0];</span><br><span class="line">var tX=parseInt(o.style.left) || 0,</span><br><span class="line">tY=parseInt(o.style.top) || 0,</span><br><span class="line">dx=e.clientX,</span><br><span class="line">dy=e.clientY;</span><br><span class="line">document.onmousemove=function(e)&#123;</span><br><span class="line">o.style.left=tX+e.clientX-dx+&quot;px&quot;;</span><br><span class="line">o.style.top=tY+e.clientY-dy+&quot;px&quot;;</span><br><span class="line">&#125;</span><br><span class="line">document.onmouseup=function()&#123;</span><br><span class="line">document.onmousemove=null;</span><br><span class="line">document.onmouseup=null;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">temp.addEventListener(&quot;mousedown&quot;,drag,false); //拖动</span><br><span class="line">temp.addEventListener(&quot;mouseover&quot;,bind,false); //划过</span><br><span class="line">temp.addEventListener(&quot;touchstart&quot;,bind,false); //iOS触屏。（抱歉，由于本人没钱买iPad，还没测试过）</span><br><span class="line">G.$(&#x27;middle&#x27;).appendChild(temp);</span><br><span class="line">&#125;;</span><br><span class="line">this.run = function()&#123;  //转动</span><br><span class="line">var that = this;</span><br><span class="line">var _slide=function()&#123;</span><br><span class="line">var b=-1 ,t=0, c=2, d=that.turn;</span><br><span class="line">function _run()&#123;</span><br><span class="line">if(t&lt;d)&#123; //半圈补间动画</span><br><span class="line">t++;</span><br><span class="line">m = - sign * easeInOut(t,b,c,d);</span><br><span class="line">that.con.clearRect(0, 0, that.S, that.S);</span><br><span class="line">that.drawLogo();</span><br><span class="line">that.drawHalo();</span><br><span class="line">that.timeout=setTimeout(_run, 10);</span><br><span class="line">&#125;</span><br><span class="line">else&#123;  //完成半圈</span><br><span class="line">sign=-sign;</span><br><span class="line">that.turn++;</span><br><span class="line">that.timeout=setTimeout(_slide, 10);</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">_run();</span><br><span class="line"> &#125;;</span><br><span class="line">_slide();</span><br><span class="line">&#125;;</span><br><span class="line">this.drawLogo=function()&#123; //绘logo</span><br><span class="line">this.con.save();</span><br><span class="line">this.con.translate(this.posX,this.posY);</span><br><span class="line">if(m === 0) &#123;m = 0.1;&#125;</span><br><span class="line">this.con.scale(m, 1);</span><br><span class="line">this.con.beginPath();</span><br><span class="line">this.con.strokeStyle=&#x27;#135b9f&#x27;;</span><br><span class="line">this.con.fillStyle=this.radi;</span><br><span class="line">this.con.lineWidth=lineWidth;</span><br><span class="line">this.con.save();</span><br><span class="line">this.con.translate(0,-this.radius/8);</span><br><span class="line">this.con.moveTo(0,0);</span><br><span class="line">this.con.arc(0,0, this.radius/2 ,0,Math.PI*2/2,true);</span><br><span class="line">this.con.lineTo(0,0);</span><br><span class="line">this.con.restore();</span><br><span class="line">this.con.save();</span><br><span class="line">this.con.translate(0,this.radius/8);</span><br><span class="line">this.con.moveTo(this.radius,0);</span><br><span class="line">this.con.lineTo(-this.radius/2,0)</span><br><span class="line">this.con.arc(0, 0, this.radius/2 ,Math.PI*2/2,Math.PI*4/24,true);</span><br><span class="line">var y1=this.radius/2 * Math.sin(Math.PI*4/24) ;</span><br><span class="line">var x1=Math.sqrt(Math.pow(this.radius,2) - Math.pow(y1+ this.radius/8,2));</span><br><span class="line">this.con.lineTo(x1,y1);</span><br><span class="line">this.con.restore();</span><br><span class="line">var ang1=Math.asin(this.radius/8/this.radius);</span><br><span class="line">var ang2=Math.acos(x1/this.radius);</span><br><span class="line">this.con.arc(0, 0, this.radius, ang2, ang1, false);</span><br><span class="line">this.con.stroke();</span><br><span class="line">this.con.fill();</span><br><span class="line">this.con.restore();</span><br><span class="line">&#125;;</span><br><span class="line">this.drawHalo = function()&#123;  //绘光环</span><br><span class="line">this.con.save();</span><br><span class="line">this.con.fillStyle=this.radi2;</span><br><span class="line">this.con.beginPath();</span><br><span class="line">this.con.translate(this.posX,this.posY);</span><br><span class="line">var n=this.radius/105;</span><br><span class="line">this.con.moveTo(90 * n,-70 * n);</span><br><span class="line">this.con.bezierCurveTo(125 * n,-202* n,-140* n,-65* n,-128* n,87* n);</span><br><span class="line">this.con.bezierCurveTo(-125* n,105* n,-105* n,115* n,-60* n,88* n);</span><br><span class="line">this.con.bezierCurveTo(-59* n,79* n,-108* n,118* n,-114* n,78* n);</span><br><span class="line">this.con.bezierCurveTo(-115* n,-33* n,117* n,-183* n,88* n,-70* n);</span><br><span class="line">this.con.fill();</span><br><span class="line">this.con.restore();</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">var drawBg=function()&#123; //绘背景</span><br><span class="line">var bg=G.$(&quot;bg&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">G.$(&#x27;bg&#x27;).width=G.scrW() ;</span><br><span class="line">G.$(&#x27;bg&#x27;).height=G.scrH() ;</span><br><span class="line">var lineBg = bg.createLinearGradient(1000,0,0,800);</span><br><span class="line">lineBg.addColorStop(0,&#x27;#98ff5a&#x27;);</span><br><span class="line">lineBg.addColorStop(0.4,&#x27;#64dbc5&#x27;);</span><br><span class="line">lineBg.addColorStop(0.8,&#x27;#00b8fe&#x27;);</span><br><span class="line">lineBg.addColorStop(1,&#x27;#0034bb&#x27;);</span><br><span class="line">bg.save();</span><br><span class="line">bg.fillStyle=lineBg;</span><br><span class="line">bg.fillRect(0,0,G.scrW(),G.scrH());</span><br><span class="line">bg.fillStyle=&#x27;#fff&#x27;;</span><br><span class="line">bg.transform(-1,0,0,1,G.scrW(),0);</span><br><span class="line">for (var i=20;i&gt;0;i--)&#123;</span><br><span class="line">      bg.beginPath();</span><br><span class="line">  bg.scale(1,0.95);</span><br><span class="line">if(i % 2 === 0)&#123;bg.globalAlpha = 0.05;&#125;</span><br><span class="line">else&#123;bg.globalAlpha = 0.03;&#125;</span><br><span class="line">      bg.arc(i*i*1.2 ,200 + i*5, 80+i*i, 0, Math.PI*2, true);</span><br><span class="line">      bg.fill();</span><br><span class="line">&#125;</span><br><span class="line">bg.restore();</span><br><span class="line">&#125;</span><br><span class="line">function easeInOut(t,b,c,d)&#123; //补间算法</span><br><span class="line">if ((t/=d/2) &lt; 1) return c/2*t*t + b;</span><br><span class="line">return -c/2 * ((--t)*(t-2) - 1) + b;</span><br><span class="line">&#125;</span><br><span class="line">window.onload=function()&#123;</span><br><span class="line">drawBg();</span><br><span class="line">var max=20;</span><br><span class="line">//var size=Math.max(G.scrW()/Math.sqrt(max),G.scrH()/Math.sqrt(max));</span><br><span class="line">for(var i=0 ; i&lt;max; i++ )&#123;</span><br><span class="line">new Pad().init(&#123;name:&#x27;pad&#x27;+i, turn: i+5&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">window.onresize=function()&#123;drawBg();&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>下面是另一个玩意《忍者镖》，话说是受了这个大赛（<a href="http://js1k.com/2010-first/demos%EF%BC%89%E7%9A%84%E5%88%BA%E6%BF%80%E6%89%8D%E5%86%99%E7%9A%84%E3%80%82">http://js1k.com/2010-first/demos）的刺激才写的。</a><br>在这个大赛里，所有的Demo都必须小于1KB。</p><p>于是，我就把我的代码往死里压。从这样：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;忍者镖&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">html,body&#123;height:100%;overflow:hidden;text-align:center;&#125;</span><br><span class="line">#middle&#123;position:relative;z-index:2;height:100%;&#125;</span><br><span class="line">#middle canvas&#123;position:absolute;top:0;left:0;&#125;</span><br><span class="line">#bg&#123;position:absolute;z-index:1;top:0;left:0;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body &gt;</span><br><span class="line">&lt;canvas id=&quot;bg&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;div id=&#x27;middle&#x27;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var G=&#123;&#125;</span><br><span class="line">G.$=function(n)&#123;</span><br><span class="line">return document.getElementById(n) || n;</span><br><span class="line">&#125;</span><br><span class="line">G.scrW=function()&#123;return document.body.offsetWidth;&#125;</span><br><span class="line">G.scrH=function()&#123;return document.body.offsetHeight;&#125;</span><br><span class="line">function Pad()&#123;&#125;;</span><br><span class="line">Pad.prototype.init = function(o)&#123;</span><br><span class="line">this.create(o.name);</span><br><span class="line">this.S= o.size || 400;</span><br><span class="line">this.posX = this.S/2;</span><br><span class="line">this.posY = this.S/2;</span><br><span class="line">this.con = G.$(o.name).getContext(&#x27;2d&#x27;);</span><br><span class="line">G.$(o.name).width=this.S;</span><br><span class="line">G.$(o.name).height=this.S;</span><br><span class="line">this.m = o.m || 0;</span><br><span class="line">this.run();</span><br><span class="line">&#125;;</span><br><span class="line">Pad.prototype.run = function()&#123;</span><br><span class="line">var sign=1;</span><br><span class="line">var that = this;</span><br><span class="line">var _slide=function()&#123;</span><br><span class="line">var t=0;</span><br><span class="line">function _run()&#123;</span><br><span class="line">if(t&lt;Math.PI*6)&#123;</span><br><span class="line">t += 0.1;</span><br><span class="line">that.m += sign * 0.1;</span><br><span class="line">that.con.clearRect(0, 0, that.S, that.S);</span><br><span class="line">that.draw();</span><br><span class="line">that.timeout=setTimeout(_run, 10);</span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">sign=-sign;</span><br><span class="line">that.timeout=setTimeout(_slide, 10);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">_run();</span><br><span class="line"> &#125;;</span><br><span class="line">_slide();</span><br><span class="line">&#125;;</span><br><span class="line">Pad.prototype.draw=function()&#123;</span><br><span class="line">this.con.save();</span><br><span class="line">this.con.translate(this.posX,this.posY);</span><br><span class="line">this.con.rotate(this.m);</span><br><span class="line">if(this.m === 0) &#123;this.m = 0.001;&#125;</span><br><span class="line">this.con.scale(this.m/10,this.m/10);</span><br><span class="line">this.con.strokeStyle=&#x27;#3E392E&#x27;;</span><br><span class="line">this.con.fillStyle=&quot;#F9F9FA&quot;;</span><br><span class="line">this.con.lineWidth=1;</span><br><span class="line">this.drawNinja()</span><br><span class="line">this.con.restore();</span><br><span class="line">&#125;</span><br><span class="line">Pad.prototype.create = function(n)&#123;</span><br><span class="line">var temp=document.createElement(&#x27;canvas&#x27;);</span><br><span class="line">var that = this;</span><br><span class="line">temp.id=n;</span><br><span class="line">G.$(&#x27;middle&#x27;).appendChild(temp);</span><br><span class="line">&#125;;</span><br><span class="line">Pad.prototype.drawNinja=function()&#123;</span><br><span class="line">this.con.beginPath();</span><br><span class="line">this.con.moveTo(20,-20);</span><br><span class="line">this.con.lineTo(80,0);</span><br><span class="line">this.con.lineTo(20,20);</span><br><span class="line">this.con.lineTo(0,80);</span><br><span class="line">this.con.lineTo(-20,20);</span><br><span class="line">this.con.lineTo(-80,0);</span><br><span class="line">this.con.lineTo(-20,-20);</span><br><span class="line">this.con.lineTo(0,-80);</span><br><span class="line">this.con.lineTo(20,-20);</span><br><span class="line">this.con.translate(0,0);</span><br><span class="line">this.con.arc(0,0,8,0,Math.PI*2,true);</span><br><span class="line">this.con.stroke();</span><br><span class="line">this.con.fill();</span><br><span class="line">&#125;;</span><br><span class="line">var drawBg=function()&#123;</span><br><span class="line">var bg=G.$(&quot;bg&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">G.$(&#x27;bg&#x27;).width=G.scrW() ;</span><br><span class="line">G.$(&#x27;bg&#x27;).height=G.scrH() ;</span><br><span class="line">var lineBg = bg.createLinearGradient(1000,0,0,800);</span><br><span class="line">lineBg.addColorStop(0,&#x27;#eee&#x27;);</span><br><span class="line">lineBg.addColorStop(0.4,&#x27;#818181&#x27;);</span><br><span class="line">lineBg.addColorStop(0.8,&#x27;#434343&#x27;);</span><br><span class="line">lineBg.addColorStop(1,&#x27;#141414&#x27;);</span><br><span class="line">bg.fillStyle=lineBg;</span><br><span class="line">bg.fillRect(0,0,G.scrW(),G.scrH());</span><br><span class="line">&#125;</span><br><span class="line">window.onload=function()&#123;</span><br><span class="line">var max=10;</span><br><span class="line">for(var i=0 ; i&lt;max; i++ )&#123;</span><br><span class="line">new Pad().init(&#123;name:&#x27;pad&#x27;+i, m:i*0.1&#125;);</span><br><span class="line">&#125;</span><br><span class="line">drawBg();</span><br><span class="line">&#125;;</span><br><span class="line">window.onresize=function()&#123;drawBg();&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>斩头去尾，挖心掏肺，搞成这样：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">body&#123;overflow:hidden;background:#666;&#125;</span><br><span class="line">canvas&#123;position:absolute;top:0;left:0;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">function g()&#123;var b=this;b.d=function(a)&#123;b.create();b.a=a.a;b.e()&#125;;b.e=function()&#123;function a()&#123;function e()&#123;if(f&lt;Math.PI*8)&#123;f+=0.1;c.a+=d*0.1;c.b.clearRect(0,0,400,400);c.c();c.timeout=setTimeout(e,10)&#125;else&#123;d=-d;c.timeout=setTimeout(a,10)&#125;&#125;var f=0;e()&#125;var d=1,c=b;a()&#125;;b.c=function()&#123;var a=b.b;a.save();a.translate(200,200);a.rotate(b.a);if(b.a===0)b.a=0.0010;a.scale(b.a/10,b.a/10);a.strokeStyle=&quot;#333&quot;;a.fillStyle=&quot;#eee&quot;;a.lineWidth=1;a.beginPath();a.moveTo(20,-20);a.lineTo(80,0);a.lineTo(20,20);a.lineTo(0, 80);a.lineTo(-20,20);a.lineTo(-80,0);a.lineTo(-20,-20);a.lineTo(0,-80);a.lineTo(20,-20);a.translate(0,0);a.arc(0,0,8,0,Math.PI*2,true);a.stroke();a.fill();a.restore()&#125;;b.create=function()&#123;var a=document.createElement(&quot;canvas&quot;);a.width=400;a.height=400;b.b=a.getContext(&quot;2d&quot;);document.body.appendChild(a)&#125;&#125;window.onload=function()&#123;for(var b=0;b&lt;10;b++)(new g).d(&#123;a:b*0.1&#125;)&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>结果，我的文件大小依然超出1KB，不得不佩服那些1KB Demos啊，个顶个的又小又炫。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;几星期前参加ie9开发大赛做了一个《ie9大风车》（呃，我承认名字很挫）。&lt;/p&gt;
&lt;p&gt;这个小玩意的难度在于，里面的所有东西都不是图片，而是用canvas写的，之前写的贝塞尔曲线的可视化操作实现倒是帮了大忙，不过据说AI已有插件直接导出canvas绘图代码了，那我的手写代</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>浮动后block元素的水平居中,与横版布局的长度自适应</title>
    <link href="https://www.cssass.com/2010/12/07/%E6%B5%AE%E5%8A%A8%E5%90%8Eblock%E5%85%83%E7%B4%A0%E7%9A%84%E6%B0%B4%E5%B9%B3%E5%B1%85%E4%B8%AD-%E4%B8%8E%E6%A8%AA%E7%89%88%E5%B8%83%E5%B1%80%E7%9A%84%E9%95%BF%E5%BA%A6%E8%87%AA%E9%80%82%E5%BA%94/"/>
    <id>https://www.cssass.com/2010/12/07/%E6%B5%AE%E5%8A%A8%E5%90%8Eblock%E5%85%83%E7%B4%A0%E7%9A%84%E6%B0%B4%E5%B9%B3%E5%B1%85%E4%B8%AD-%E4%B8%8E%E6%A8%AA%E7%89%88%E5%B8%83%E5%B1%80%E7%9A%84%E9%95%BF%E5%BA%A6%E8%87%AA%E9%80%82%E5%BA%94/</id>
    <published>2010-12-07T08:57:18.000Z</published>
    <updated>2023-06-28T09:01:20.227Z</updated>
    
    <content type="html"><![CDATA[<p>今天介绍两个小技巧，与float，margin负值有关。</p><p>众所周知：<br>inline元素的水平居中可以用text-align:center;<br>block元素的水平居中可以用margin:0 auto; (设置宽度后，方显效果)。<br>block元素设置float:left;后，如果幸运，我们知道其确定的宽度值，则可以用left:50%;margin-left:-width&#x2F;2;来实现。<br>那么，当我们不确定知道block具体要达到的宽度时，该如何办呢？<br>这种情况，常见于菜单栏居中，而因为某些原因，各个菜单项的宽度很难去确定，造成菜单栏宽度的不确定。<br>当然，我们也可以使用inline元素来嵌套菜单项（即使菜单项是block元素，也未尝不可），父级使用text-align:center;来居中。<br>而下面的方法也不错，值得吸收的小技巧。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;block元素浮动后的自适应水平居中&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">*&#123;</span><br><span class="line">margin:0;</span><br><span class="line">padding:0;</span><br><span class="line">list-style:none;</span><br><span class="line">&#125;</span><br><span class="line">.header&#123;overflow:hidden;&#125;</span><br><span class="line">.nav&#123;</span><br><span class="line">float:left;</span><br><span class="line">position:relative;</span><br><span class="line">left:50%;</span><br><span class="line">&#125;</span><br><span class="line">.menu&#123;</span><br><span class="line">float:left;</span><br><span class="line">    position:relative;</span><br><span class="line">right:50%;</span><br><span class="line">background: #ccc;</span><br><span class="line">&#125;</span><br><span class="line">.menu li&#123;</span><br><span class="line">float:left;</span><br><span class="line">padding:5px 20px;</span><br><span class="line">border:1px solid #aaa;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;header&quot;&gt;</span><br><span class="line">&lt;div class=&quot;nav&quot;&gt;</span><br><span class="line">&lt;ul class=&quot;menu&quot;&gt;</span><br><span class="line">&lt;li&gt;1&lt;/li&gt;</span><br><span class="line">&lt;li&gt;2&lt;/li&gt;</span><br><span class="line">&lt;li&gt;3&lt;/li&gt;</span><br><span class="line">&lt;li&gt;4&lt;/li&gt;</span><br><span class="line">&lt;li&gt;5&lt;/li&gt;</span><br><span class="line">&lt;li&gt;6&lt;/li&gt;</span><br><span class="line">&lt;li&gt;7&lt;/li&gt;</span><br><span class="line">&lt;li&gt;8&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>下面介绍第二个简单的技巧。<br>它应用于横版布局的宽度自适应，因为我们同样不知道横版最终达到的宽度是多少。<br>尽管这种布局很少见，但里面的技巧其实用处很广。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;横版布局的长度自适应&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">*&#123;</span><br><span class="line">margin:0;</span><br><span class="line">padding:0;</span><br><span class="line">list-style:none;</span><br><span class="line">&#125;</span><br><span class="line">.menu&#123;</span><br><span class="line">float:left;</span><br><span class="line">    margin-right:-30000px;</span><br><span class="line">&#125;</span><br><span class="line">.menu li&#123;</span><br><span class="line">float:left;</span><br><span class="line">width:200px;border:1px solid #ccc;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;ul class=&quot;menu&quot;&gt;</span><br><span class="line">&lt;li&gt;1&lt;/li&gt;</span><br><span class="line">&lt;li&gt;2&lt;/li&gt;</span><br><span class="line">&lt;li&gt;3&lt;/li&gt;</span><br><span class="line">&lt;li&gt;4&lt;/li&gt;</span><br><span class="line">&lt;li&gt;5&lt;/li&gt;</span><br><span class="line">&lt;li&gt;6&lt;/li&gt;</span><br><span class="line">&lt;li&gt;7&lt;/li&gt;</span><br><span class="line">&lt;li&gt;8&lt;/li&gt;</span><br><span class="line">&lt;li&gt;1&lt;/li&gt;</span><br><span class="line">&lt;li&gt;2&lt;/li&gt;</span><br><span class="line">&lt;li&gt;3&lt;/li&gt;</span><br><span class="line">&lt;li&gt;4&lt;/li&gt;</span><br><span class="line">&lt;li&gt;5&lt;/li&gt;</span><br><span class="line">&lt;li&gt;6&lt;/li&gt;</span><br><span class="line">&lt;li&gt;7&lt;/li&gt;</span><br><span class="line">&lt;li&gt;8&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>里面的技巧其实就是个margin负值。<br>应用margin负值来完成预定的布局，往往有“柳暗花明”的效果。</p><p>&#x2F;************** 额外奉送第三个小技巧 **************&#x2F;<br>文本单行居中，多行居左的效果。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;单行居中，多行居左&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.box&#123;width:350px;border:1px solid #ccc;margin:50px;text-align:center;&#125;</span><br><span class="line">.box span&#123;display:inline-block;text-align:left;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;box&quot;&gt;</span><br><span class="line">&lt;span&gt;让我们荡起双桨&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;box&quot;&gt;</span><br><span class="line">&lt;span&gt;让我们荡起双桨,小船儿推开波浪,海面倒映着美丽的白塔,四周环绕着绿树红墙~&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;今天介绍两个小技巧，与float，margin负值有关。&lt;/p&gt;
&lt;p&gt;众所周知：&lt;br&gt;inline元素的水平居中可以用text-align:center;&lt;br&gt;block元素的水平居中可以用margin:0 auto; (设置宽度后，方显效果)。&lt;br&gt;block元素</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>CSS3的崛起——体验webkit的3D-Effect</title>
    <link href="https://www.cssass.com/2010/11/16/CSS3%E7%9A%84%E5%B4%9B%E8%B5%B7%E2%80%94%E2%80%94%E4%BD%93%E9%AA%8Cwebkit%E7%9A%843D-Effect/"/>
    <id>https://www.cssass.com/2010/11/16/CSS3%E7%9A%84%E5%B4%9B%E8%B5%B7%E2%80%94%E2%80%94%E4%BD%93%E9%AA%8Cwebkit%E7%9A%843D-Effect/</id>
    <published>2010-11-16T08:55:02.000Z</published>
    <updated>2023-06-28T08:56:22.061Z</updated>
    
    <content type="html"><![CDATA[<p>在性能保证的前提下，向更高更炫的效果发起冲击是未来Web的一大需求，而CSS必将借此大展抱负，崛起于未来的web技术之林，独树一帜，无可撼动。而在这条道路上，Apple公司无疑是一位先驱：他们要将web交互推入3D时代。目前，不仅W3C通过了3d-transforms的工作草案，在webkit上3d-transforms也已经实现了。</p><p>本文意在体验，浅析3d-transforms，读者如对3d-transforms有技术方面的兴趣，可以阅读以下文档：<br>W3C的 css3-3d-transforms (工作草案)<br>Apple的 CSS Visual Effects Guide —— transforms （指南）<br>Apple的 Visual Effects Transform Functions （属性方法介绍）<br>westciv.com的 3Dtransforms （可视化演示）<br>webkit.org的 3D Transforms (有Demo讲解)</p><p>警告：以下所有Demo效果须使用safari5，开源的chrominm浏览器进行体验，而即使是在chrome12下的效果也会大打折扣。<br>下面这个demo来自marcofolio.net：3d animation using pure CSS3<br>以下是代码删减版</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;cssass.com&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">body &#123; background-color:#deddcd;&#125;</span><br><span class="line">#movieposters &#123; list-style:none; margin:100px;&#125;</span><br><span class="line">#movieposters li &#123;float:left;</span><br><span class="line">-webkit-perspective: 500;</span><br><span class="line">/*</span><br><span class="line">-webkit-transform-style: preserve-3d;</span><br><span class="line">-webkit-transition-property: perspective;</span><br><span class="line">-webkit-transition-duration: 0.5s;</span><br><span class="line">*/</span><br><span class="line">&#125;</span><br><span class="line">/*</span><br><span class="line">#movieposters li:hover &#123; -webkit-perspective: 5000; &#125;</span><br><span class="line">*/</span><br><span class="line">#movieposters li img &#123; border:10px solid #fcfafa;-webkit-box-shadow:0 3px 10px #888;</span><br><span class="line">-webkit-transform: rotateY(30deg);</span><br><span class="line">-webkit-transition-property: transform;</span><br><span class="line">-webkit-transition-duration: 0.5s;</span><br><span class="line">&#125;</span><br><span class="line">#movieposters li:hover img &#123;-webkit-transform: rotateY(0deg); &#125;</span><br><span class="line">.movieinfo &#123;border:10px solid #fcfafa; padding:0 10px; width:120px; height:100px; background-color:#deddcd; margin:-125px 0 0 55px; position:absolute;-webkit-box-shadow:0 10px 20px #888;</span><br><span class="line">-webkit-transform: translateZ(30px) rotateY(30deg);</span><br><span class="line">-webkit-transition-property: transform, box-shadow, margin;</span><br><span class="line">-webkit-transition-duration: 0.5s; &#125;</span><br><span class="line">#movieposters li:hover .movieinfo &#123;-webkit-box-shadow:0 5px 10px #888; margin:-105px 0 0 30px;</span><br><span class="line">-webkit-transform: rotateY(0deg); &#125;</span><br><span class="line">.movieinfo h3 &#123;color:#7a3f3a;font-family:Georgia; text-align:center; &#125;</span><br><span class="line">.movieinfo p &#123;padding:10px 0;&#125;</span><br><span class="line">.movieinfo a &#123; display:block; background:#7a3f3a; padding:3px 0; color:#eee; text-decoration:none; text-align:center; margin:0 auto;-webkit-border-radius:5px; &#125;</span><br><span class="line">.movieinfo a:hover, .movieinfo a:focus &#123; background-color:#6a191f; color:#fff; &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;ul id=&quot;movieposters&quot;&gt;</span><br><span class="line">&lt;li&gt;</span><br><span class="line">&lt;img src=&#x27;http://www.cssass.com/blog/resource/avatar/avatar_m.jpg&#x27; width=&#x27;200&#x27; /&gt;</span><br><span class="line">&lt;div class=&quot;movieinfo&quot;&gt;</span><br><span class="line">&lt;h3&gt;Avatar 2&lt;/h3&gt;</span><br><span class="line">&lt;p&gt;You like a baby&lt;/p&gt;</span><br><span class="line">&lt;a href=&quot;http://www.cssass.com&quot; title=&quot;I see you&quot;&gt;More info&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;li&gt;</span><br><span class="line">&lt;img src=&#x27;http://www.cssass.com/blog/resource/avatar/avatar_m.jpg&#x27; width=&#x27;200&#x27; /&gt;</span><br><span class="line">&lt;div class=&quot;movieinfo&quot;&gt;</span><br><span class="line">&lt;h3&gt;Avatar 2&lt;/h3&gt;</span><br><span class="line">&lt;p&gt;You like a baby&lt;/p&gt;</span><br><span class="line">&lt;a href=&quot;http://www.cssass.com&quot; title=&quot;I see you&quot;&gt;More info&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;li&gt;</span><br><span class="line">&lt;img src=&#x27;http://www.cssass.com/blog/resource/avatar/avatar_m.jpg&#x27; width=&#x27;200&#x27; /&gt;</span><br><span class="line">&lt;div class=&quot;movieinfo&quot;&gt;</span><br><span class="line">&lt;h3&gt;Avatar 2&lt;/h3&gt;</span><br><span class="line">&lt;p&gt;You like a baby&lt;/p&gt;</span><br><span class="line">&lt;a href=&quot;http://www.cssass.com&quot; title=&quot;I see you&quot;&gt;More info&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>进一步删减</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;cssass.com&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">*&#123;padding:0;margin:0;list-style:none; &#125;</span><br><span class="line">body &#123; background:#deddcd;margin:100px;&#125;</span><br><span class="line">#movieposters li &#123;float:left;</span><br><span class="line">-webkit-perspective: 500;</span><br><span class="line">&#125;</span><br><span class="line">#movieposters li img &#123;</span><br><span class="line">-webkit-transform: rotateY(30deg);</span><br><span class="line">-webkit-transition-property: transform;</span><br><span class="line">-webkit-transition-duration: 0.5s;</span><br><span class="line">&#125;</span><br><span class="line">#movieposters li:hover img &#123;</span><br><span class="line">-webkit-transform: rotateY(0deg);</span><br><span class="line">&#125;</span><br><span class="line">.movieinfo &#123;</span><br><span class="line">position:absolute; width:120px; height:100px; background:#fff; margin:-125px 0 0 55px;</span><br><span class="line">-webkit-transform: translateZ(30px) rotateY(30deg);</span><br><span class="line">-webkit-transition-property: transform, margin;</span><br><span class="line">-webkit-transition-duration: 0.5s;</span><br><span class="line">&#125;</span><br><span class="line">#movieposters li:hover .movieinfo &#123;</span><br><span class="line">margin:-105px 0 0 40px;</span><br><span class="line">-webkit-transform: rotateY(0deg);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;ul id=&quot;movieposters&quot;&gt;</span><br><span class="line">&lt;li&gt;</span><br><span class="line">&lt;img src=&#x27;http://www.cssass.com/blog/resource/avatar/avatar_m.jpg&#x27; width=&#x27;200&#x27; /&gt;</span><br><span class="line">&lt;div class=&quot;movieinfo&quot;&gt;</span><br><span class="line">Avatar 2</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>上面的Demo中，我们一直没有应用-webkit-transform-style: preserve-3d;这个属性。<br>事实上，上面的Demo仅仅是”伪3D”,只是我们面对的是屏幕这样一个2D平面，上面的Demo还无法区分出真3D和伪3D。</p><p>我们再看看下面这个真3D的Demo——来自webkit.org</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;Explaining transform-style&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    #container &#123;</span><br><span class="line">      position: relative;</span><br><span class="line">      height: 300px;</span><br><span class="line">      width: 300px;</span><br><span class="line">      margin: 50px 100px;</span><br><span class="line">      border: 2px solid blue;</span><br><span class="line">      -webkit-perspective: 500;</span><br><span class="line">    &#125;</span><br><span class="line">    #parent &#123;</span><br><span class="line">      margin: 10px;</span><br><span class="line">      width: 280px;</span><br><span class="line">      height: 280px;</span><br><span class="line">      background-color: #844BCA;</span><br><span class="line">      opacity: 0.8;</span><br><span class="line">      -webkit-transform-style: preserve-3d;</span><br><span class="line">      -webkit-animation: spin 10s infinite linear;</span><br><span class="line">    &#125;</span><br><span class="line">    #container:hover #parent &#123;</span><br><span class="line">      -webkit-transform-style: flat;</span><br><span class="line">    &#125;</span><br><span class="line">    @-webkit-keyframes spin &#123;</span><br><span class="line">      from &#123; -webkit-transform: rotateY(0); &#125;</span><br><span class="line">      to   &#123; -webkit-transform: rotateY(360deg); &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    #parent &gt; div &#123;</span><br><span class="line">      position: absolute;</span><br><span class="line">      top: 40px;</span><br><span class="line">      left: 40px;</span><br><span class="line">      width: 200px;</span><br><span class="line">      height: 200px;</span><br><span class="line">      padding: 10px;</span><br><span class="line">      -webkit-box-sizing: border-box;</span><br><span class="line">    &#125;</span><br><span class="line">    #parent &gt; :first-child &#123;</span><br><span class="line">      background-color: #49DC93;</span><br><span class="line">      -webkit-transform: translateZ(-100px) rotateY(45deg);</span><br><span class="line">    &#125;</span><br><span class="line">    #parent &gt; :last-child &#123;</span><br><span class="line">      background-color: #FF6;</span><br><span class="line">      -webkit-transform: translateZ(50px) rotateX(20deg);</span><br><span class="line">      -webkit-transform-origin: 50% top;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;container&quot;&gt;</span><br><span class="line">    &lt;div id=&quot;parent&quot;&gt;</span><br><span class="line">      &lt;div&gt;-webkit-transform: translateZ(-100px) rotateY(45deg);&lt;/div&gt;</span><br><span class="line">      &lt;div&gt;-webkit-transform: translateZ(50px) rotateX(20deg);&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>hover状态下transform-style值是flat;未hover状态下是preserve-3d —— 两者的效果差异一目了然。<br>在上面的Demo中，不仅应用了transform属性，还使用了webkit css中另一个很牛的属性——animation<br>（而我们最前面的Demo也使用了webkit css中第三个很牛的属性——transition）</p><p>参照上面的Demo，我们对原demo也做个修改，</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;cssass.com&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">*&#123;padding:0;margin:0;list-style:none; &#125;</span><br><span class="line">body &#123; background:#deddcd;margin:100px;&#125;</span><br><span class="line">#movieposters&#123;</span><br><span class="line">-webkit-perspective: 1000;</span><br><span class="line">&#125;</span><br><span class="line">#movieposters li &#123;float:left;</span><br><span class="line">-webkit-animation: spin 10s infinite linear;</span><br><span class="line">&#125;</span><br><span class="line">#movieposters li.first&#123;</span><br><span class="line">-webkit-transform-style: preserve-3d;</span><br><span class="line">&#125;</span><br><span class="line">#movieposters li.second&#123;</span><br><span class="line">-webkit-transform-style: plat;</span><br><span class="line">&#125;</span><br><span class="line"> @-webkit-keyframes spin &#123;</span><br><span class="line">      from &#123; -webkit-transform: rotateY(0); &#125;</span><br><span class="line">      to   &#123; -webkit-transform: rotateY(360deg); &#125;</span><br><span class="line">    &#125;</span><br><span class="line">#movieposters li img &#123;</span><br><span class="line">-webkit-transform: rotateY(30deg);</span><br><span class="line">-webkit-transition-property: transform;</span><br><span class="line">-webkit-transition-duration: 0.5s;</span><br><span class="line">&#125;</span><br><span class="line">#movieposters li:hover img &#123;</span><br><span class="line">-webkit-transform: rotateY(0deg);</span><br><span class="line">&#125;</span><br><span class="line">.movieinfo &#123;</span><br><span class="line">position:absolute; width:120px; height:100px; background:#fff; margin:-125px 0 0 55px;</span><br><span class="line">-webkit-transform: translateZ(30px) rotateY(30deg);</span><br><span class="line">-webkit-transition-property: transform, margin;</span><br><span class="line">-webkit-transition-duration: 0.5s;</span><br><span class="line">&#125;</span><br><span class="line">#movieposters li:hover .movieinfo &#123;</span><br><span class="line">margin:-105px 0 0 40px;</span><br><span class="line">-webkit-transform: rotateY(0deg);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;ul id=&quot;movieposters&quot;&gt;</span><br><span class="line">&lt;li class=&#x27;first&#x27;&gt;</span><br><span class="line">&lt;img src=&#x27;http://www.cssass.com/blog/resource/avatar/avatar_m.jpg&#x27; width=&#x27;200&#x27; /&gt;</span><br><span class="line">&lt;div class=&quot;movieinfo&quot;&gt;</span><br><span class="line">Avatar 2</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;li class=&#x27;second&#x27;&gt;</span><br><span class="line">&lt;img src=&#x27;http://www.cssass.com/blog/resource/avatar/avatar_m.jpg&#x27; width=&#x27;200&#x27; /&gt;</span><br><span class="line">&lt;div class=&quot;movieinfo&quot;&gt;</span><br><span class="line">Avatar 2</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在性能保证的前提下，向更高更炫的效果发起冲击是未来Web的一大需求，而CSS必将借此大展抱负，崛起于未来的web技术之林，独树一帜，无可撼动。而在这条道路上，Apple公司无疑是一位先驱：他们要将web交互推入3D时代。目前，不仅W3C通过了3d-transforms的工作</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>纯css打造投影效果——CSS3属性transform的应用</title>
    <link href="https://www.cssass.com/2010/11/03/%E7%BA%AFcss%E6%89%93%E9%80%A0%E6%8A%95%E5%BD%B1%E6%95%88%E6%9E%9C%E2%80%94%E2%80%94CSS3%E5%B1%9E%E6%80%A7transform%E7%9A%84%E5%BA%94%E7%94%A8/"/>
    <id>https://www.cssass.com/2010/11/03/%E7%BA%AFcss%E6%89%93%E9%80%A0%E6%8A%95%E5%BD%B1%E6%95%88%E6%9E%9C%E2%80%94%E2%80%94CSS3%E5%B1%9E%E6%80%A7transform%E7%9A%84%E5%BA%94%E7%94%A8/</id>
    <published>2010-11-03T08:52:19.000Z</published>
    <updated>2023-06-28T08:54:00.801Z</updated>
    
    <content type="html"><![CDATA[<p>刚在twitter上看见这个效果。<br>Getting Clever with CSS3 Shadows</p><p>这个效果里，除了应用阴影属性box-shadow之外，还需要一个重要属性的支持——transform<br>其实transform算是一个混合属性，它同canvas和svg的transform一样，带有几个独立的方法：平移（translate），缩放（Scaling），旋转（Rotating），另外，还有一个斜切（Skewing）。其实，斜切和旋转是有关系的：当skewX&#x3D;-skewY时，它就是一个纯粹的Rotate。</p><p>下面就是效果演示。略有改动，原demo没有考虑opera，在此补上。<br>所以，应该除了ie9以下的浏览器，其他所以用户都能看见效果。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;skew&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.box &#123;</span><br><span class="line">position: absolute;</span><br><span class="line">padding: 2px;</span><br><span class="line">background: white;</span><br><span class="line">-webkit-box-shadow: 1px 2px 4px rgba(0,0,0,.5);</span><br><span class="line">-moz-box-shadow: 1px 2px 4px rgba(0,0,0,.5);</span><br><span class="line">box-shadow: 1px 2px 4px rgba(0,0,0,.5);</span><br><span class="line">&#125;</span><br><span class="line">.box img &#123;</span><br><span class="line">display:block;</span><br><span class="line">width: 200px;</span><br><span class="line">border: 1px inset #8a4419;</span><br><span class="line">background:#eee;</span><br><span class="line">&#125;</span><br><span class="line">.box:after &#123;</span><br><span class="line">content: &#x27;&#x27;;</span><br><span class="line">-webkit-box-shadow:  100px 0 10px 20px rgba(0,0,0,.2);</span><br><span class="line">-moz-box-shadow:  100px 0 10px 20px rgba(0,0,0,.2);</span><br><span class="line">box-shadow:  100px 0 10px 20px rgba(0,0,0,.2);</span><br><span class="line">position: absolute;</span><br><span class="line">width: 50%;</span><br><span class="line">height: 20px;</span><br><span class="line">bottom: 20px;</span><br><span class="line">right: 90px;</span><br><span class="line">z-index: -1;</span><br><span class="line">-webkit-transform: skew(-40deg);</span><br><span class="line">-moz-transform: skew(-40deg);</span><br><span class="line">-o-transform: skew(-40deg);</span><br><span class="line">transform: skew(-40deg);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;box&quot;&gt;</span><br><span class="line">&lt;img src=&#x27;http://www.cssass.com/blog/resource/avatar/avatar.jpg&#x27;/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>————几分钟之后——————<br>我们发现safari竟然不支持。<br>但千万不要怀疑safari的transform能力。——它可是支持3D变换的。<br>Visual Effects Transform Functions<br>从中可以看出，safari的transform完全应该可以达到效果的。<br>（另外，safari的Transition和Animation这两个CSS属性&#x2F;方法也是异常的强大）</p><p>现在把目光转向box-shadow属性。<br>前面我们的写法是：box-shadow: 100px 0 10px 20px rgba(0,0,0,.2);<br>这里有5个属性，分别表示 X偏移offset-x，Y偏移offset-y， 模糊半径blur-radius ，延伸半径spread-radius，和 color<br>这是据MDC的说法，-moz-box-shadow。<br>除了这5个属性值之外，还有一个属性值inset——表示内阴影。另外，这个属性值组还可以设置多组，中间用逗号隔开。<br>inset值在safari下不支持，这点我们之前就有所了解。除此之外，还有没有其他差异呢？<br>请看：-webkit-box-shadow。<br>原来safari下还不支持“延伸半径”值。</p><p>那么为了兼容safari，我们可以修改一下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;skew&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.box &#123;</span><br><span class="line">position: absolute;</span><br><span class="line">padding: 2px;</span><br><span class="line">background: white;</span><br><span class="line">-webkit-box-shadow: 1px 2px 4px rgba(0,0,0,.5);</span><br><span class="line">-moz-box-shadow: 1px 2px 4px rgba(0,0,0,.5);</span><br><span class="line">box-shadow: 1px 2px 4px rgba(0,0,0,.5);</span><br><span class="line">&#125;</span><br><span class="line">.box img &#123;</span><br><span class="line">display:block;</span><br><span class="line">width:200px;</span><br><span class="line">height:220px;</span><br><span class="line">border: 1px inset #8a4419;</span><br><span class="line">background:#eee;</span><br><span class="line">&#125;</span><br><span class="line">.box:after &#123;</span><br><span class="line">content: &#x27;&#x27;;</span><br><span class="line">-webkit-box-shadow:  100px 0 10px rgba(0,0,0,.2);</span><br><span class="line">-moz-box-shadow:  100px 0 10px rgba(0,0,0,.2);</span><br><span class="line">box-shadow:  100px 0 10px rgba(0,0,0,.2);</span><br><span class="line">position: absolute;</span><br><span class="line">width: 50%;</span><br><span class="line">height: 80px;</span><br><span class="line">bottom: 0;</span><br><span class="line">right: 65px;</span><br><span class="line">z-index: -1;</span><br><span class="line">-webkit-transform: skew(-40deg);</span><br><span class="line">-moz-transform: skew(-40deg);</span><br><span class="line">-o-transform: skew(-40deg);</span><br><span class="line">transform: skew(-40deg);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;box&quot;&gt;</span><br><span class="line">&lt;img src=&#x27;http://www.cssass.com/blog/resource/avatar/avatar.jpg&#x27;/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;刚在twitter上看见这个效果。&lt;br&gt;Getting Clever with CSS3 Shadows&lt;/p&gt;
&lt;p&gt;这个效果里，除了应用阴影属性box-shadow之外，还需要一个重要属性的支持——transform&lt;br&gt;其实transform算是一个混合属性，它同</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Transform变形方法的可视化演示</title>
    <link href="https://www.cssass.com/2010/10/22/Transform%E5%8F%98%E5%BD%A2%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%AF%E8%A7%86%E5%8C%96%E6%BC%94%E7%A4%BA/"/>
    <id>https://www.cssass.com/2010/10/22/Transform%E5%8F%98%E5%BD%A2%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%AF%E8%A7%86%E5%8C%96%E6%BC%94%E7%A4%BA/</id>
    <published>2010-10-22T08:50:15.000Z</published>
    <updated>2023-06-28T08:51:19.161Z</updated>
    
    <content type="html"><![CDATA[<p>canvas 的变形方法transform是三个基本变形方法的结合，他们是<br>translate——移动；rotate ——旋转，在transform中分解为x，y两个方向的斜切；和scale——缩放。<br>他的参数是变形矩阵的六个数值：m11, m12, m21, m22, dx, dy<br>变形矩阵：</p><p>m11m21dx<br>m12m22dy<br>001<br>对于transform方法的使用，其实很难把握，所以写了下面这个演示</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;cssass.com&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">#rule,#pad&#123;float:left;margin:10px;&#125;</span><br><span class="line">#rule p&#123;padding;0;margin:0;line-height:25px;&#125;</span><br><span class="line">#rule label&#123;display:inline-block;width:80px;text-align:right;font-size:12px;&#125;</span><br><span class="line">#rule input&#123;border:0;width:40px;&#125;</span><br><span class="line">#rule b&#123;position:relative;display:inline-block;width:150px;height:10px;font-size:0;line-height:0;background:#fff;border:1px solid #aaa;border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;&#125;</span><br><span class="line">#rule p a&#123;position:absolute;top:-4px;left:50%;width:15px;height:15px;margin-left:-8px;border:1px solid #d3d3d3;background:#ececec;border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;&#125;</span><br><span class="line">#rule p a:hover&#123;border:1px solid #999;background:#dcdcdc;&#125;</span><br><span class="line">.footer&#123;font-size:12px;padding:10px 0;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=&#x27;rule&#x27;&gt;</span><br><span class="line">&lt;h3&gt;Transform方法可视化操作演示&lt;/h3&gt;</span><br><span class="line">&lt;p onmousedown=&#x27;G.change(this,event,4);&#x27;&gt;&lt;label&gt;水平缩放 m11: &lt;/label&gt; &lt;b class=&#x27;range&#x27;&gt;&lt;a onfocus=&quot;blur();&quot;  href=&#x27;javascript:;&#x27;&gt;&amp;nbsp;&lt;/a&gt;&lt;/b&gt; &lt;input id=&#x27;m11&#x27; type=&#x27;text&#x27; /&gt;&lt;/p&gt;</span><br><span class="line">&lt;p onmousedown=&#x27;G.change(this,event,4);&#x27;&gt;&lt;label&gt;y轴斜切 m12: &lt;/label&gt; &lt;b class=&#x27;range&#x27;&gt;&lt;a onfocus=&quot;blur();&quot;  href=&#x27;javascript:;&#x27;&gt;&amp;nbsp;&lt;/a&gt;&lt;/b&gt; &lt;input id=&#x27;m12&#x27; type=&#x27;text&#x27; /&gt;&lt;/p&gt;</span><br><span class="line">&lt;p onmousedown=&#x27;G.change(this,event,4);&#x27;&gt;&lt;label&gt;x轴斜切 m21: &lt;/label&gt; &lt;b class=&#x27;range&#x27;&gt;&lt;a onfocus=&quot;blur();&quot;  href=&#x27;javascript:;&#x27;&gt;&amp;nbsp;&lt;/a&gt;&lt;/b&gt; &lt;input id=&#x27;m21&#x27; type=&#x27;text&#x27; /&gt;&lt;/p&gt;</span><br><span class="line">&lt;p onmousedown=&#x27;G.change(this,event,4);&#x27;&gt;&lt;label&gt;垂直缩放 m22: &lt;/label&gt; &lt;b class=&#x27;range&#x27;&gt;&lt;a onfocus=&quot;blur();&quot;  href=&#x27;javascript:;&#x27;&gt;&amp;nbsp;&lt;/a&gt;&lt;/b&gt; &lt;input id=&#x27;m22&#x27; type=&#x27;text&#x27; /&gt;&lt;/p&gt;</span><br><span class="line">&lt;p onmousedown=&#x27;G.change(this,event,1000);&#x27;&gt;&lt;label&gt;平移 dx: &lt;/label&gt; &lt;b class=&#x27;range&#x27;&gt;&lt;a onfocus=&quot;blur();&quot;  href=&#x27;javascript:;&#x27;&gt;&amp;nbsp;&lt;/a&gt;&lt;/b&gt; &lt;input id=&#x27;dx&#x27; type=&#x27;text&#x27; /&gt;&lt;/p&gt;</span><br><span class="line">&lt;p onmousedown=&#x27;G.change(this,event,1000);&#x27;&gt;&lt;label&gt;纵移 dy: &lt;/label&gt; &lt;b class=&#x27;range&#x27;&gt;&lt;a onfocus=&quot;blur();&quot;  href=&#x27;javascript:;&#x27;&gt;&amp;nbsp;&lt;/a&gt;&lt;/b&gt; &lt;input id=&#x27;dy&#x27; type=&#x27;text&#x27; /&gt;&lt;/p&gt;</span><br><span class="line">&lt;div class=&#x27;footer&#x27;&gt;首先在右侧用鼠标画一矩形。&lt;br /&gt;Javascript by &lt;a href=&#x27;http://www.cssass.com&#x27;&gt;cssass.com&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;canvas id=&quot;pad&quot; width=&#x27;800&#x27; height=&quot;600&quot; style=&quot;position:relative;border:1px solid #c3c3c3;cursor:crosshair;&quot;&gt;注意：ie9以下用户请绕行&lt;/canvas&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var $id=function(o)&#123;return document.getElementById(o);&#125;</span><br><span class="line">var con=$id(&quot;pad&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">var G=&#123;&#125;;</span><br><span class="line">G.x1=G.y1=G.x2=G.y2=0;</span><br><span class="line">G.val=[[4,1],[4,0],[4,0],[4,1],[1000,0],[1000,0]];</span><br><span class="line">G.init=function()&#123;</span><br><span class="line">var list=$id(&#x27;rule&#x27;).getElementsByTagName(&#x27;p&#x27;);</span><br><span class="line">var left, value;</span><br><span class="line">for(var i=0; i&lt;list.length; i++)&#123;</span><br><span class="line">value = G.val[i][1];</span><br><span class="line">left =(0.5 + G.val[i][1] / G.val[i][0] ) * 100;</span><br><span class="line">list[i].getElementsByTagName(&#x27;a&#x27;)[0].style.left= left + &#x27;%&#x27;;</span><br><span class="line">list[i].getElementsByTagName(&#x27;input&#x27;)[0].value= value;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">G.draw=function()&#123;</span><br><span class="line">G.init();</span><br><span class="line">var e = arguments[0];</span><br><span class="line">G.x1 = (e.layerX) ? e.layerX : e.offsetX,</span><br><span class="line">G.y1 = (e.layerY) ? e.layerY : e.offsetY,</span><br><span class="line">$id(&quot;pad&quot;).onmousemove=function(e)&#123;</span><br><span class="line">con.clearRect(0,0,800,600);</span><br><span class="line">G.x2= (e.layerX) ? e.layerX : e.offsetX;</span><br><span class="line">G.y2= (e.layerY) ? e.layerY : e.offsetY;</span><br><span class="line">con.save();</span><br><span class="line">con.translate(G.x1,G.y1)</span><br><span class="line">G.rect(G.x1,G.y1,G.x2,G.y2);</span><br><span class="line">con.restore();</span><br><span class="line">&#125;</span><br><span class="line">$id(&quot;pad&quot;).onmouseup=function()&#123;</span><br><span class="line">$id(&quot;pad&quot;).onmousedown=null;</span><br><span class="line">$id(&quot;pad&quot;).onmousemove=null;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">G.change=function(obj,e,l,v)&#123;</span><br><span class="line">var o=obj.getElementsByTagName(&#x27;a&#x27;)[0];</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">if(!window.event) &#123;e.preventDefault();&#125;</span><br><span class="line">var tX=o.offsetLeft,</span><br><span class="line">dx=e.clientX;</span><br><span class="line">document.onmousemove=function(e)&#123;</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">var len=tX+e.clientX-dx+8;</span><br><span class="line">if(len&gt;=0 &amp;&amp; len&lt;=150)&#123;</span><br><span class="line">var rat=(len / 150) * 100;</span><br><span class="line">o.style.left=rat+ &quot;%&quot;;</span><br><span class="line">obj.getElementsByTagName(&#x27;input&#x27;)[0].value =l * Math.round((rat - 50)*10)/1000;</span><br><span class="line">G.transform();</span><br><span class="line">&#125;</span><br><span class="line">if(window.event) e.returnValue=false;</span><br><span class="line">&#125;</span><br><span class="line">document.onmouseup=function()&#123;</span><br><span class="line">document.onmousemove=null;</span><br><span class="line">document.onmouseup=null;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">G.transform=function()&#123;</span><br><span class="line">var m11=($id(&#x27;m11&#x27;).value == 0)? 0.001 : $id(&#x27;m11&#x27;).value,  //firefox下m11,m12值不能为0</span><br><span class="line">m12=$id(&#x27;m12&#x27;).value,</span><br><span class="line">m21=$id(&#x27;m21&#x27;).value,</span><br><span class="line">m22=($id(&#x27;m22&#x27;).value == 0)? 0.001 : $id(&#x27;m22&#x27;).value,</span><br><span class="line">dx=$id(&#x27;dx&#x27;).value,</span><br><span class="line">dy=$id(&#x27;dy&#x27;).value;</span><br><span class="line">con.clearRect(0,0,800,600);</span><br><span class="line">con.save();</span><br><span class="line">con.translate(G.x1,G.y1);  //变形的参考点设为图形的左上角</span><br><span class="line">con.transform(m11, m12, m21, m22, dx, dy);</span><br><span class="line">G.rect(G.x1,G.y1,G.x2,G.y2);</span><br><span class="line">con.restore();</span><br><span class="line">&#125;</span><br><span class="line">G.rect=function(x1,y1,x2,y2)&#123;</span><br><span class="line">var grd=con.createLinearGradient(0, 0, x2 - x1, y2 - y1); //弄一个渐变效果</span><br><span class="line">grd.addColorStop(0,&quot;#3F5816&quot;);</span><br><span class="line">grd.addColorStop(1,&quot;#B40000&quot;);</span><br><span class="line">con.fillStyle=grd;</span><br><span class="line">con.fillRect(0, 0, x2 - x1, y2 - y1);</span><br><span class="line">&#125;</span><br><span class="line">window.addEventListener(&quot;load&quot;, G.init, false);</span><br><span class="line">$id(&quot;pad&quot;).addEventListener(&quot;mousedown&quot;, G.draw, false);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;canvas 的变形方法transform是三个基本变形方法的结合，他们是&lt;br&gt;translate——移动；rotate ——旋转，在transform中分解为x，y两个方向的斜切；和scale——缩放。&lt;br&gt;他的参数是变形矩阵的六个数值：m11, m12, m21, </summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>笛卡尔情书的秘密——心形函数的绘制</title>
    <link href="https://www.cssass.com/2010/10/18/%E7%AC%9B%E5%8D%A1%E5%B0%94%E6%83%85%E4%B9%A6%E7%9A%84%E7%A7%98%E5%AF%86%E2%80%94%E2%80%94%E5%BF%83%E5%BD%A2%E5%87%BD%E6%95%B0%E7%9A%84%E7%BB%98%E5%88%B6/"/>
    <id>https://www.cssass.com/2010/10/18/%E7%AC%9B%E5%8D%A1%E5%B0%94%E6%83%85%E4%B9%A6%E7%9A%84%E7%A7%98%E5%AF%86%E2%80%94%E2%80%94%E5%BF%83%E5%BD%A2%E5%87%BD%E6%95%B0%E7%9A%84%E7%BB%98%E5%88%B6/</id>
    <published>2010-10-18T08:45:09.000Z</published>
    <updated>2023-06-28T08:49:25.049Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>r&#x3D;a(1-sinθ)</p></blockquote><p>据说这是笛卡尔死前寄出的最后一封情书的内容, 而这里面隐藏着一个刻骨铭心的秘密。。。</p><blockquote><p>当时法国正流行黑死病，迪卡尔不得不逃离法国， 流浪到瑞典。<br>某天，他在市场乞讨，有一群少女经过， 其中一名少女发现他的口音不像是瑞典人，非常好奇，于是上前问他，<br>你从哪来的啊? 法国。<br>你是做什么的啊? 我是数学家。 </p><p>这名少女叫克丽丝汀，１８岁，是一个公主，<br>她和其它女孩子不一样，并不喜欢文学，而是热衷于数学。<br>当她听到迪卡尔说明身份之后，感到相当大的兴趣，于是把迪卡尔邀请回宫。 迪卡尔就成了她的数学老师，将一生的研究倾囊相授给克丽丝汀。<br>而克丽丝汀的数学也日益进步，直角坐标当时也只有迪卡尔这对师生才懂。 后来，他们之间有了不一样的情愫，发生了喧腾一时的师生恋。<br>这件事传到国王耳中，让国王相当愤怒，下令将迪卡尔处死！克丽丝汀以自缢相逼， 国王害怕宝贝女儿真的会想不开， 于是将迪卡尔放逐回法国，并将克丽丝汀软禁。<br>迪卡尔一回到法国后，没多久就染上了黑死病，躺在床上奄奄一息。 迪卡尔不断地写信到瑞典给克丽丝汀，但却被国王给拦截没收， 所以克丽丝汀一直没收到迪卡尔的信。。。 </p><p>在笛卡尔快要死去的时候，他寄出了第１３封信，  这封信的内容只有短短的一行：<br>r&#x3D;a(1-sinθ)<br>国王拦截到这封信之后，拆开看发现并不是一如往常的情话。 国王当然看不懂这项数学式，于是找来城里所有科学家来研究， 但都没有人能够解开到底是什么意思。<br>国王心想反正迪卡尔就快要快死了，<br>而且公主被软禁时都闷闷不乐的，所以，就把信交给克丽丝汀。<br>当克丽丝汀收到这封信时，雀跃无比，她很高兴她的爱人还是在想念她的。<br>她立刻动手研究这行字的秘密。。。很快就解开了这个属于他们两个人之间秘密。</p></blockquote><p>而我们将借助canvas的arc方法，为你揭开这行字的秘密：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;Cardioid&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body style=&quot;text-align:center;&quot;&gt;</span><br><span class="line">&lt;canvas id=&quot;pad&quot; width=&#x27;500&#x27; height=&#x27;500&#x27;&gt;你不换一个浏览器，比如chrome，将无法知道这个秘密。&lt;/a&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var $id=function(n)&#123;</span><br><span class="line">return document.getElementById(n) || n;</span><br><span class="line">&#125;</span><br><span class="line">window.addEventListener(&quot;load&quot;,draw, false);</span><br><span class="line">var con=$id(&quot;pad&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">con.fillStyle=&#x27;#e21f27&#x27;</span><br><span class="line">con.translate(200,100);</span><br><span class="line">function draw()&#123;</span><br><span class="line">var r=0 , a=100 , start = 0 , end= 0;</span><br><span class="line">con.rotate(Math.PI);</span><br><span class="line">for(var q=0; q&lt;500; q++)&#123;</span><br><span class="line">start +=  Math.PI * 2 /500;</span><br><span class="line">end = start + Math.PI * 2 /500;</span><br><span class="line">r=a * (1-Math.sin(start));  //心形极坐标表示法</span><br><span class="line">con.arc(0,0,r,start,end,false);</span><br><span class="line">&#125;</span><br><span class="line">con.fill();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><blockquote><p>不久之后那位国王死了，克丽丝汀继承王位， 登基之后她马上派人在欧洲四处寻找迪卡尔的踪迹，可惜人已故。。。</p></blockquote><p>当然，我们知道这个故事完全是杜撰的。</p><p>除了使用arc方法，bezierCurveTo方法来绘制各种曲线图形也不在话下，但那并不是通过心形函数本身绘制的。</p><p>好吧其实r&#x3D;a(1-sinθ)是极坐标系方程，而不是笛卡尔坐标系(直角坐标系)方程式。<br>关于心形函数的一些资料</p><p>话说，极坐标公式是非常利于绘制图形的。<br>比如玫瑰线公式：r(θ) &#x3D; a sin kθ<br>阿基米德螺线公式：r(θ) &#x3D; a+bθ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;Rose&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;pad&quot; width=&#x27;500&#x27; height=&#x27;500&#x27;&gt;&lt;a href=&#x27;http://www.cssass.com&#x27;&gt;cssass.com&lt;/a&gt;提醒您：ie低版本用户请更新你的浏览器&lt;/canvas&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var $id=function(n)&#123;</span><br><span class="line">return document.getElementById(n) || n;</span><br><span class="line">&#125;</span><br><span class="line">window.addEventListener(&quot;load&quot;,draw, false);</span><br><span class="line">var con=$id(&quot;pad&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">con.strokeStyle=&#x27;#e21f27&#x27;</span><br><span class="line">con.translate(100,100);</span><br><span class="line">function draw()&#123;</span><br><span class="line">var r=0 , a=100 , start = 0 , end= 0 , k=4; //可以改变k值试试</span><br><span class="line">for(var q=0; q&lt;500; q++)&#123;</span><br><span class="line">start +=  Math.PI * 2 /500;</span><br><span class="line">end = start + Math.PI * 2 /500;</span><br><span class="line">r =Math.abs(a *(Math.cos( k * start)))  //玫瑰线公式r(θ) = a sin kθ</span><br><span class="line">con.arc(0,0,r,start,end,false);</span><br><span class="line">&#125;</span><br><span class="line">con.stroke();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;Archimedean spiral&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;pad&quot; width=&#x27;500&#x27; height=&#x27;500&#x27;&gt;&lt;a href=&#x27;http://www.cssass.com&#x27;&gt;cssass.com&lt;/a&gt;提醒您：ie低版本用户请更新你的浏览器&lt;/canvas&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var $id=function(n)&#123;</span><br><span class="line">return document.getElementById(n) || n;</span><br><span class="line">&#125;</span><br><span class="line">window.addEventListener(&quot;load&quot;,draw, false);</span><br><span class="line">var con=$id(&quot;pad&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">con.strokeStyle=&#x27;#e21f27&#x27;</span><br><span class="line">con.translate(100,100);</span><br><span class="line">function draw()&#123;</span><br><span class="line">var r=0 , a=20 , start = 0 , end= 0 , k=2;</span><br><span class="line">for(var q=0; q&lt;500; q++)&#123;</span><br><span class="line">start +=  Math.PI * 2 /100;</span><br><span class="line">end = start + Math.PI * 2 /100;</span><br><span class="line">r =a + k * start  //阿基米德螺线</span><br><span class="line">con.arc(0,0,r,start,end,false);</span><br><span class="line">&#125;</span><br><span class="line">con.stroke();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>另外，出于审美需求，我们的心型图形往往是这样的：<br>17(x^2+y^2)-16*abs(x)<em>y&#x3D;225<br>但是这里所用到的坐标系是直角坐标系，我们可以先转换成极坐标方程，如下：<br>r&#x3D;sqrt(225&#x2F;(17-16sinθ</em>sqrt((cosθ)^2)))<br>绘制如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;LOVE&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body style=&quot;text-align:center;&quot;&gt;</span><br><span class="line">&lt;canvas id=&quot;pad&quot; width=&#x27;300&#x27; height=&#x27;500&#x27;&gt;&lt;a href=&#x27;http://www.cssass.com&#x27;&gt;cssass.com&lt;/a&gt;提醒您：ie低版本用户请更新你的浏览器&lt;/canvas&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var $id=function(n)&#123;</span><br><span class="line">return document.getElementById(n) || n;</span><br><span class="line">&#125;</span><br><span class="line">window.addEventListener(&quot;load&quot;,draw, false);</span><br><span class="line">var con=$id(&quot;pad&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">con.fillStyle=&#x27;#e21f27&#x27;</span><br><span class="line">con.translate(100,100);</span><br><span class="line">function draw()&#123;</span><br><span class="line">var r=0 , a=20 , start = 0 , end= 0;</span><br><span class="line">con.rotate(Math.PI);</span><br><span class="line">for(var q=0; q&lt;1000; q++)&#123;</span><br><span class="line">start +=  Math.PI * 2 /1000;</span><br><span class="line">end = start + Math.PI * 2 /1000;</span><br><span class="line">r=a*Math.sqrt(225/(17-16*Math.sin(start)*Math.sqrt(Math.cos(start)*Math.cos(start))))</span><br><span class="line">con.arc(0,0,r,start,end,false);</span><br><span class="line">&#125;</span><br><span class="line">con.fill();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;&lt;p&gt;r&amp;#x3D;a(1-sinθ)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;据说这是笛卡尔死前寄出的最后一封情书的内容, 而这里面隐藏着一个刻骨铭心的秘密。。。&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;当时法国正流行黑死病，迪卡尔不得不逃离法国， 流</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>贝塞尔曲线的可视化操作实现——Photoshop钢笔工具的初级模拟</title>
    <link href="https://www.cssass.com/2010/09/16/%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF%E7%9A%84%E5%8F%AF%E8%A7%86%E5%8C%96%E6%93%8D%E4%BD%9C%E5%AE%9E%E7%8E%B0%E2%80%94%E2%80%94Photoshop%E9%92%A2%E7%AC%94%E5%B7%A5%E5%85%B7%E7%9A%84%E5%88%9D%E7%BA%A7%E6%A8%A1%E6%8B%9F/"/>
    <id>https://www.cssass.com/2010/09/16/%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF%E7%9A%84%E5%8F%AF%E8%A7%86%E5%8C%96%E6%93%8D%E4%BD%9C%E5%AE%9E%E7%8E%B0%E2%80%94%E2%80%94Photoshop%E9%92%A2%E7%AC%94%E5%B7%A5%E5%85%B7%E7%9A%84%E5%88%9D%E7%BA%A7%E6%A8%A1%E6%8B%9F/</id>
    <published>2010-09-16T08:43:22.000Z</published>
    <updated>2023-06-28T08:44:10.111Z</updated>
    
    <content type="html"><![CDATA[<p>贝塞尔曲线在数字绘图中有着非常重要的地位，你可能使用过photoshop的钢笔工具，那就是贝塞尔曲线的应用。<br>在html5的canvas中也得到了实现，即bezierCurveTo函数。<br>虽然功能不错，但是凭空使用 bezierCurveTo来绘图可不是件方便的事。<br>他的6个参数：（控制点1的坐标X，控制点1的坐标y，控制点2的坐标x，控制点2的坐标y，终点坐标x，终点坐标y）并不是你一见就能知道最终效果的。<br>黑客帝国中的那种通过没有数字视频解码器的显示设备，纯粹看代码来监视母体世界的能力，不是一时半会能够修炼的出来的。</p><p>下面的demo就提供了这种类似数字解码功能，使得你可以可视化操作曲线。<br>然后，这还只是个很初级的东西，希望大家支持，我会慢慢完善的。<br>此demo仅提供了单条贝塞尔曲线的操作，可控的点有四个，暂没有拖动线条的功能。<br>和那种用HTML5实现整个photoshop功能的项目比起来。这只能算是小小的练习，希望这个练习在不久的未来能够用上。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;贝塞尔曲线可视化操作&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">body&#123;padding:20px;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;pad&quot; width=&#x27;800&#x27; height=&#x27;500&#x27;  style=&#x27;position:relative;border:1px solid #ccc;&#x27;&gt;&lt;a href=&#x27;http://www.cssass.com&#x27;&gt;cssass.com&lt;/a&gt;提醒您：ie用户(9以下)请一边惭愧去吧&lt;/canvas&gt;</span><br><span class="line">&lt;div id=&#x27;output&#x27;&gt;在屏幕中点击并可拖动，你可控的点有4个&lt;/div&gt;</span><br><span class="line">&lt;button onclick=&#x27;document.location.reload()&#x27;&gt;刷新&lt;/button&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var $id=function(n)&#123;</span><br><span class="line">return document.getElementById(n) || n;</span><br><span class="line">&#125;</span><br><span class="line">$id(&quot;pad&quot;).addEventListener(&quot;mousedown&quot;, main, false);</span><br><span class="line">var con=$id(&quot;pad&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">con.strokeStyle = &#x27;#000&#x27;;</span><br><span class="line">con.lineWidth=0.2;</span><br><span class="line">var vector=&#123;sta:[],end:[],cr1:[],cr2:[]&#125;</span><br><span class="line">function main()&#123;</span><br><span class="line">var e=arguments[0];</span><br><span class="line">var cx=e.layerX || e.offsetX,   //鼠标起点</span><br><span class="line">cy=e.layerY || e.offsetY;</span><br><span class="line">init(cx,cy);   //初始化点</span><br><span class="line">var sx=parseInt(vector.sta[0]), //起点</span><br><span class="line">sy=parseInt(vector.sta[1]),</span><br><span class="line">ex=parseInt(vector.end[0]), //终点</span><br><span class="line">ey=parseInt(vector.end[1]),</span><br><span class="line">cr1x=parseInt(vector.cr1[0]), //控制点1</span><br><span class="line">cr1y=parseInt(vector.cr1[1]),</span><br><span class="line">cr2x=parseInt(vector.cr2[0]), //控制点2</span><br><span class="line">cr2y=parseInt(vector.cr2[1]);</span><br><span class="line">if(vector.end[0] == undefined) return;  //仅有起点时，退出。</span><br><span class="line">if(cr1x-5 &lt; cx &amp;&amp; cx &lt; cr1x + 5 &amp;&amp; cr1y-5 &lt; cy &amp;&amp; cy &lt; cr1y +5)&#123;    //选中控制点1</span><br><span class="line"> discern(&#x27;ctr1&#x27;,cx,cy,cr1x,cr1y,cr2x,cr2y);</span><br><span class="line">&#125;</span><br><span class="line">else if(cr2x-5 &lt; cx &amp;&amp; cx &lt; cr2x + 5 &amp;&amp; cr2y-5 &lt; cy &amp;&amp; cy &lt; cr2y +5)&#123;  //选中控制点2</span><br><span class="line">discern(&#x27;ctr2&#x27;,cx,cy,cr1x,cr1y,cr2x,cr2y);</span><br><span class="line">&#125;</span><br><span class="line">else if(sx-5 &lt; cx &amp;&amp; cx &lt; sx + 5 &amp;&amp; sy-5 &lt; cy &amp;&amp; cy &lt; sy +5)&#123;  //选中起点</span><br><span class="line">    discern(&#x27;start&#x27;,cx,cy,cr1x,cr1y,cr2x,cr2y);</span><br><span class="line">&#125;</span><br><span class="line">else if(ex-5 &lt; cx &amp;&amp; cx &lt; ex + 5 &amp;&amp; ey-5 &lt; cy &amp;&amp; cy &lt; ey +5 )&#123;  //选中终点</span><br><span class="line">discern(&#x27;end&#x27;,cx,cy,cr1x,cr1y,cr2x,cr2y);</span><br><span class="line">&#125;</span><br><span class="line">document.onmouseup=function()&#123;</span><br><span class="line">document.onmousemove=null;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">function init(cx,cy)&#123;</span><br><span class="line">if(vector.sta[0] == undefined)&#123;  //若无起点时，初始化起点</span><br><span class="line">vector.sta[0] = vector.cr1[0] = cx;</span><br><span class="line">vector.sta[1] = vector.cr1[1] = cy;</span><br><span class="line">con.fillRect(vector.sta[0]-1, vector.sta[1]-1 ,3,3);</span><br><span class="line">&#125;</span><br><span class="line">else if(vector.end[0] == undefined)&#123;  //若无终点，初始化终点</span><br><span class="line">vector.end[0] = vector.cr2[0] = cx;</span><br><span class="line">vector.end[1] = vector.cr2[1] = cy;</span><br><span class="line">con.fillRect(vector.end[0]-1, vector.end[1]-1 ,3,3);</span><br><span class="line">draw()  //已有两点，开始绘线</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">function discern(v,cx,cy,cr1x,cr1y,cr2x,cr2y)&#123;</span><br><span class="line">document.onmousemove=function(e)&#123;</span><br><span class="line">var dx=e.layerX || e.offsetX,  //鼠标当前坐标</span><br><span class="line">dy=e.layerY || e.offsetY;</span><br><span class="line">switch(v) &#123;</span><br><span class="line">case &#x27;start&#x27; :  //拖动起点</span><br><span class="line">vector.sta[0]=dx;</span><br><span class="line">vector.sta[1]=dy;</span><br><span class="line">vector.cr1[0] = cr1x + (dx-cx);</span><br><span class="line">vector.cr1[1] = cr1y + (dy-cy);</span><br><span class="line">break;</span><br><span class="line">case &#x27;end&#x27; :</span><br><span class="line">vector.end[0]=dx;</span><br><span class="line">vector.end[1]=dy;</span><br><span class="line">vector.cr2[0] = cr2x + (dx-cx);</span><br><span class="line">vector.cr2[1] = cr2y + (dy-cy);</span><br><span class="line">break;</span><br><span class="line">case &#x27;ctr1&#x27; :</span><br><span class="line">vector.cr1[0] = dx;</span><br><span class="line">vector.cr1[1] = dy;</span><br><span class="line">break;</span><br><span class="line">case &#x27;ctr2&#x27; :</span><br><span class="line">vector.cr2[0] = dx;</span><br><span class="line">vector.cr2[1] = dy;</span><br><span class="line">break;</span><br><span class="line">default: break;</span><br><span class="line">&#125;</span><br><span class="line">draw();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">function draw()&#123;</span><br><span class="line"> con.clearRect(0,0,800,500);</span><br><span class="line"> //画贝塞尔曲线</span><br><span class="line"> con.beginPath();</span><br><span class="line"> con.moveTo(vector.sta[0], vector.sta[1]);</span><br><span class="line"> con.bezierCurveTo(vector.cr1[0], vector.cr1[1], vector.cr2[0], vector.cr2[1], vector.end[0], vector.end[1]);</span><br><span class="line"> con.stroke();</span><br><span class="line"> //画控制线1</span><br><span class="line">con.beginPath();</span><br><span class="line">con.moveTo(vector.sta[0],vector.sta[1]);</span><br><span class="line">con.lineTo(vector.cr1[0], vector.cr1[1]);</span><br><span class="line">con.stroke();</span><br><span class="line"> //画控制线2</span><br><span class="line">con.beginPath();</span><br><span class="line">con.moveTo(vector.end[0], vector.end[1]);</span><br><span class="line">con.lineTo(vector.cr2[0], vector.cr2[1]);</span><br><span class="line">con.stroke();</span><br><span class="line"> //画4个控制点</span><br><span class="line">con.strokeRect(vector.sta[0]-1, vector.sta[1]-1 ,3,3);</span><br><span class="line">con.strokeRect(vector.end[0]-1, vector.end[1]-1 ,3,3);</span><br><span class="line">con.fillRect(vector.cr1[0]-1, vector.cr1[1]-1 ,3,3);</span><br><span class="line">con.fillRect(vector.cr2[0]-1, vector.cr2[1]-1 ,3,3);</span><br><span class="line">//输出贝塞尔函数</span><br><span class="line">$id(&#x27;output&#x27;).innerHTML=&#x27;moveTo(&#x27; + vector.sta[0] +&#x27;,&#x27; + vector.sta[1] + &#x27;);&lt;br /&gt;&#x27; + &#x27;bezierCurveTo(&#x27; + vector.cr1[0] +&#x27;,&#x27;+ vector.cr1[1] +&#x27;,&#x27; + vector.cr2[0] +&#x27;,&#x27; + vector.cr2[1] +&#x27;,&#x27;+ vector.end[0] +&#x27;,&#x27; + vector.end[1] +&#x27;);&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;贝塞尔曲线在数字绘图中有着非常重要的地位，你可能使用过photoshop的钢笔工具，那就是贝塞尔曲线的应用。&lt;br&gt;在html5的canvas中也得到了实现，即bezierCurveTo函数。&lt;br&gt;虽然功能不错，但是凭空使用 bezierCurveTo来绘图可不是件方便的</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>MDC的canvas经典教程辑和个人学习笔记</title>
    <link href="https://www.cssass.com/2010/09/10/MDC%E7%9A%84canvas%E7%BB%8F%E5%85%B8%E6%95%99%E7%A8%8B%E8%BE%91%E5%92%8C%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>https://www.cssass.com/2010/09/10/MDC%E7%9A%84canvas%E7%BB%8F%E5%85%B8%E6%95%99%E7%A8%8B%E8%BE%91%E5%92%8C%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
    <published>2010-09-10T08:39:37.000Z</published>
    <updated>2023-06-28T08:42:25.091Z</updated>
    
    <content type="html"><![CDATA[<p>mozilla developer center的关于canvas的教程集Canvas tutorial，可说是目前入门canvas教程中最棒的了。<br>教程列表：<br>Basic usage(中译：基本用法)<br>Drawing shapes(中译：绘制图形)<br>Using images(中译：使用图像)<br>Applying styles and colors(中译：运用样式与颜色)<br>Transformations(中译：变形)<br>Compositing(中译：组合)<br>Basic animations(中译：基本动画)</p><p>以下是个人的一点笔记，涵盖了教程中所有知识点。但只适用于个人，存此备忘。</p><p>canvas_ABC</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;cssass.com&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;myCanvas&quot; width=&#x27;800&#x27; height=&quot;500&quot; style=&quot;border:1px solid #c3c3c3;&quot;&gt;ie（有ie9求测试）用户请绕行&lt;/canvas&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">var con=c.getContext(&#x27;2d&#x27;);   //-----画矩形框</span><br><span class="line">var grd=con.createLinearGradient(10,10,150,10);</span><br><span class="line">grd.addColorStop(0,&quot;#f00&quot;);  //起色</span><br><span class="line">grd.addColorStop(1,&quot;#0f0&quot;);  //终色</span><br><span class="line">con.fillStyle=grd;   //渐变填充</span><br><span class="line">con.rect(0, 0, 180,100)   //矩形1</span><br><span class="line">con.fillRect(10,10,150,75);  //矩形2</span><br><span class="line">con.clearRect(20,20,80,40);  //清除出一个矩形3</span><br><span class="line">con.lineWidth=2;</span><br><span class="line">con.lineCap =&#x27;round&#x27;;  //线端点，默认butt; square和round会多出一半宽度的长度</span><br><span class="line">con.lineJoin = &#x27;round&#x27;;  //折线连接点样式，默认miter延伸来连接；（round磨圆, beve削平） ；miter有miterLimit做限制，超过则应用beve</span><br><span class="line">con.strokeStyle = &#x27;#00f&#x27;;</span><br><span class="line">con.strokeRect(30,30,20,20);  //矩形边框</span><br><span class="line">var con2=c.getContext(&#x27;2d&#x27;);  //-------画折线</span><br><span class="line">con2.moveTo(20,10); //起点位置</span><br><span class="line">con2.lineTo(45,80);  //点</span><br><span class="line">con2.lineTo(20,50);  //点</span><br><span class="line">con2.lineTo(40,30);</span><br><span class="line">con2.stroke();  //描边</span><br><span class="line">// con2.fill(); //填充</span><br><span class="line">var con3=c.getContext(&#x27;2d&#x27;);  //-------画圆</span><br><span class="line">var radi=con3.createRadialGradient(290,50,10,295,60,30);  // 径向渐变（x1,y1,r1,x2,y2,r2）</span><br><span class="line">radi.addColorStop(0, &#x27;#A7D30C&#x27;);</span><br><span class="line">radi.addColorStop(0.9, &#x27;#019F62&#x27;);</span><br><span class="line">//radi.addColorStop(1, &#x27;rgba(1,159,98,0)&#x27;);</span><br><span class="line">con3.fillStyle = radi;</span><br><span class="line">con3.beginPath();  //初始化路径</span><br><span class="line">con3.arc(290,50,50,0,Math.PI*2,true);   //（x,y,radius,起，末弧度，逆，顺时针）</span><br><span class="line">con3.closePath();  //终止路径</span><br><span class="line">con3.stroke();</span><br><span class="line">con3.fill();</span><br><span class="line">var con4=c.getContext(&#x27;2d&#x27;);  //-------应用图片</span><br><span class="line">var img=new Image();</span><br><span class="line">img.src=&#x27;http://bbs.blueidea.com/images/default/logo.gif&#x27;;</span><br><span class="line">img.onload=function()&#123;</span><br><span class="line">con4.drawImage(img,10,90,200,200);  //图片对象，位置，[尺寸]，</span><br><span class="line">var ptrn = con4.createPattern(img,&#x27;repeat&#x27;);  //图案填充</span><br><span class="line">con4.fillStyle = ptrn;</span><br><span class="line">con4.fillRect(0,350,150,150);</span><br><span class="line">&#125;</span><br><span class="line">//var con4_2=c.getContext(&#x27;2d&#x27;);</span><br><span class="line">//var img2=new Image();</span><br><span class="line">//img2.src=&#x27;https://developer.mozilla.org/samples/canvas-tutorial/images/rhino.jpg&#x27;;</span><br><span class="line">//con4_2.drawImage(document.getElementById(&#x27;source&#x27;),33,71,104,124);</span><br><span class="line">//con4_2.drawImage(document.getElementById(&#x27;source&#x27;),0,0,20,100,0,90,120,124);</span><br><span class="line">var con5=c.getContext(&#x27;2d&#x27;);  //二次，三次贝赛尔曲线</span><br><span class="line">con5.moveTo(200,0)  //起点</span><br><span class="line">con5.quadraticCurveTo(20, 20, 200, 200);  //（1个）控制点，终点</span><br><span class="line">con5.stroke();</span><br><span class="line">con5.moveTo(200,100)  //起点</span><br><span class="line">con5.bezierCurveTo(250, 250, 350, 350, 220, 220); //（2个）控制点，终点</span><br><span class="line">con5.stroke();</span><br><span class="line">var con6=c.getContext(&#x27;2d&#x27;);  //文字阴影</span><br><span class="line">con6.shadowOffsetX=2;</span><br><span class="line">con6.shadowOffsetY=2;</span><br><span class="line">con6.shadowBlur=2;</span><br><span class="line">con6.shadowColor=&#x27;rgba(0,0,0,0.5)&#x27;;</span><br><span class="line">con6.font=&#x27;20px Times New Roman&#x27;;</span><br><span class="line">con6.fillStyle=&#x27;black&#x27;;</span><br><span class="line">con6.fillText(&#x27;hello HTML5&#x27;,0,300);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>canvas_DEF</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;cssass.com&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;myCanvas&quot; width=&#x27;1000&#x27; height=&quot;600&quot; style=&quot;border:1px solid #c3c3c3;&quot;&gt;ie（有ie9求测试）用户请绕行&lt;/canvas&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">var con1=c.getContext(&#x27;2d&#x27;);   //-----用于保存一些状态属性。</span><br><span class="line">  con1.fillRect(0,0,40,40);</span><br><span class="line">  con1.save();</span><br><span class="line">  con1.fillStyle = &#x27;blue&#x27;</span><br><span class="line">  con1.globalAlpha = 0.1;</span><br><span class="line">  con1.translate(50,0);  //【平移】圆点位置（位置1）</span><br><span class="line">  con1.fillRect(0,0,40,40);</span><br><span class="line">  con1.save();            //注意：圆点位置状态也会被保存</span><br><span class="line">  con1.fillStyle = &#x27;red&#x27;</span><br><span class="line">  con1.globalAlpha = 1;</span><br><span class="line">  con1.translate(50,0);</span><br><span class="line">  con1.fillRect(0,0,40,40);</span><br><span class="line">  con1.restore();   //恢复到位置1状态</span><br><span class="line">  con1.translate(100,0); //从位置1开始移动100</span><br><span class="line">  con1.fillRect(0,0,40,40);</span><br><span class="line">  con1.restore();</span><br><span class="line">  con1.save();</span><br><span class="line">  con1.translate(200,0);</span><br><span class="line">  con1.rotate(Math.PI*2/6);  //以圆点（200，0）为中心，【旋转】六分之一个角度</span><br><span class="line">  con1.fillRect(0,0,40,40);</span><br><span class="line">con1.restore();</span><br><span class="line">con1.save();</span><br><span class="line">con1.scale(1,0.25);  //【缩放】</span><br><span class="line">con1.translate(250,0);</span><br><span class="line">con1.fillRect(0,0,40,40);</span><br><span class="line">con1.restore();</span><br><span class="line">~function draw() &#123;  //【变形】示例：http://www.html5.jp/blog/contents/HTML5-Tech-Talk-201001/transform-jquery.html</span><br><span class="line">  con1.translate(200, 200);</span><br><span class="line">  var sin = Math.sin(Math.PI/6);</span><br><span class="line">  var cos = Math.cos(Math.PI/6);</span><br><span class="line">  for (var i=0; i &lt;= 12; i++) &#123;</span><br><span class="line">    con1.fillRect(0, 0, 100, 10);</span><br><span class="line">    con1.transform(cos, sin, -sin, cos, 0, 0);  // (m11, m12, m21, m22, dx, dy) 水平缩放，垂直斜切，水平斜切，垂直缩放，水平平移，垂直平移。</span><br><span class="line">  &#125;</span><br><span class="line">  con1.setTransform(1,0.5 , 0, 1,0, 0);  //set重置后设置。</span><br><span class="line">  con1.fillRect(300,300, 100, 100);</span><br><span class="line">&#125;()</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>canvas_HIJ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;cssass.com&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;myCanvas&quot; width=&#x27;350&#x27; height=&quot;300&quot; style=&quot;border:1px solid #c3c3c3;&quot;&gt;ie（有ie9求测试）用户请绕行&lt;/canvas&gt;</span><br><span class="line">&lt;canvas id=&quot;myCanvas2&quot; width=&#x27;350&#x27; height=&quot;300&quot; style=&quot;border:1px solid #c3c3c3;&quot;&gt;ie（有ie9求测试）用户请绕行&lt;/canvas&gt;</span><br><span class="line">&lt;br /&gt;</span><br><span class="line">&lt;select id=&#x27;types&#x27; onchange=&#x27;comp();&#x27;&gt;</span><br><span class="line">&lt;option value=&#x27;source-over&#x27; selected&gt;source-over&lt;/option&gt;</span><br><span class="line">&lt;option value=&#x27;source-in&#x27;&gt;source-in&lt;/option&gt;</span><br><span class="line">&lt;option value=&#x27;source-out&#x27;&gt;source-out&lt;/option&gt;</span><br><span class="line">&lt;option value=&#x27;source-atop&#x27;&gt;source-atop&lt;/option&gt;</span><br><span class="line">&lt;option value=&#x27;destination-over&#x27;&gt;destination-over&lt;/option&gt;</span><br><span class="line">&lt;option value=&#x27;destination-in&#x27;&gt;destination-in&lt;/option&gt;</span><br><span class="line">&lt;option value=&#x27;destination-out&#x27;&gt;destination-out&lt;/option&gt;</span><br><span class="line">&lt;option value=&#x27;destination-atop&#x27;&gt;destination-atop&lt;/option&gt;</span><br><span class="line">&lt;option value=&#x27;lighter&#x27;&gt;lighter&lt;/option&gt;</span><br><span class="line">&lt;option value=&#x27;darker&#x27;&gt;darker&lt;/option&gt;</span><br><span class="line">&lt;option value=&#x27;copy&#x27;&gt;copy&lt;/option&gt;</span><br><span class="line">&lt;option value=&#x27;xor&#x27;&gt;xor&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var $id=function(n)&#123;</span><br><span class="line">return document.getElementById(n) || n;</span><br><span class="line">&#125;</span><br><span class="line">//组合</span><br><span class="line">var con1=$id(&quot;myCanvas&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">function comp()&#123;</span><br><span class="line">con1.save();</span><br><span class="line">con1.clearRect(0,0,200,300);</span><br><span class="line">    con1.fillStyle = &quot;#09f&quot;;</span><br><span class="line">    con1.fillRect(15,15,70,70);</span><br><span class="line">    con1.globalCompositeOperation =$id(&#x27;types&#x27;).value; //对所以绘制的图形均起作用。</span><br><span class="line">    con1.fillStyle = &quot;#f30&quot;;</span><br><span class="line">    con1.beginPath();</span><br><span class="line">    con1.arc(75,75,35,0,Math.PI*2,true);</span><br><span class="line">    con1.fill();</span><br><span class="line">con1.restore();</span><br><span class="line">con1.font=&#x27;20px Times New Roman&#x27;;</span><br><span class="line">con1.fillText($id(&#x27;types&#x27;).value,0,200)</span><br><span class="line">&#125;</span><br><span class="line">comp();</span><br><span class="line">//clip</span><br><span class="line">var con2=$id(&quot;myCanvas2&quot;).getContext(&#x27;2d&#x27;);</span><br><span class="line">function draw() &#123;</span><br><span class="line">  con2.save();</span><br><span class="line">  con2.translate(100,100);</span><br><span class="line">  con2.fillRect(0,0,150,150);</span><br><span class="line">  con2.translate(75,75);</span><br><span class="line">  con2.beginPath();</span><br><span class="line">  con2.arc(0,0,60,0,Math.PI*2,true);</span><br><span class="line">  con2.clip();</span><br><span class="line">  con2.fillStyle = &#x27;#143778&#x27;;</span><br><span class="line">  con2.fillRect(-75,-75,150,150);</span><br><span class="line">  for (j=1;j&lt;50;j++)&#123;</span><br><span class="line">    con2.save();</span><br><span class="line">    con2.fillStyle = &#x27;#fff&#x27;;</span><br><span class="line">    con2.translate(75-Math.floor(Math.random()*150),75-Math.floor(Math.random()*150));</span><br><span class="line">drawStar(con2,Math.floor(Math.random()*4)+2);</span><br><span class="line">    con2.restore();</span><br><span class="line">  &#125;</span><br><span class="line">  con2.restore();</span><br><span class="line">&#125;</span><br><span class="line">draw();</span><br><span class="line">function drawStar(con2,r)&#123;  //五角星的画法</span><br><span class="line">  con2.save();</span><br><span class="line">  con2.beginPath()</span><br><span class="line">  con2.moveTo(r,0);</span><br><span class="line">  for (i=0;i&lt;9;i++)&#123;</span><br><span class="line">    con2.rotate(Math.PI/5);</span><br><span class="line">    if(i%2 == 0) &#123;</span><br><span class="line">      con2.lineTo((r/0.525731)*0.200811,0);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      con2.lineTo(r,0);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  con2.closePath();</span><br><span class="line">  con2.fill();</span><br><span class="line">  con2.restore();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;mozilla developer center的关于canvas的教程集Canvas tutorial，可说是目前入门canvas教程中最棒的了。&lt;br&gt;教程列表：&lt;br&gt;Basic usage(中译：基本用法)&lt;br&gt;Drawing shapes(中译：绘制图形)&lt;br</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>canvas鼠标绘图Demo</title>
    <link href="https://www.cssass.com/2010/09/02/canvas%E9%BC%A0%E6%A0%87%E7%BB%98%E5%9B%BEDemo/"/>
    <id>https://www.cssass.com/2010/09/02/canvas%E9%BC%A0%E6%A0%87%E7%BB%98%E5%9B%BEDemo/</id>
    <published>2010-09-02T08:35:51.000Z</published>
    <updated>2023-06-28T08:38:45.739Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;cssass.com&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">html,body&#123;height:100%;overflow:hidden;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body title=&#x27;鼠标绘图&#x27;&gt;</span><br><span class="line">&lt;canvas id=&quot;pad&quot; width=&#x27;1800&#x27; height=&#x27;1000&#x27; onmousedown=draw(event) style=&#x27;border:1px solid #ccc&#x27;&gt;ie用户(9以下)请忽略&lt;/canvas&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var $id=function(n)&#123;</span><br><span class="line">return document.getElementById(n) || n;</span><br><span class="line">&#125;</span><br><span class="line">var D=&#123;</span><br><span class="line">width : 0.2 ,</span><br><span class="line">randRGB : function()&#123; return Math.round(Math.random()*250) &#125;,</span><br><span class="line">color : function()&#123;return &#x27;rgba(&#x27; + D.randRGB() + &#x27;,&#x27; + D.randRGB() + &#x27;,&#x27; + D.randRGB() + &#x27; , 1)&#x27;&#125;</span><br><span class="line">&#125;</span><br><span class="line">var draw=function(e)&#123;</span><br><span class="line">var e=window.event || e;</span><br><span class="line">var o=$id(&quot;pad&quot;);</span><br><span class="line">var con=o.getContext(&#x27;2d&#x27;);</span><br><span class="line">con.beginPath();</span><br><span class="line">con.moveTo(e.clientX,e.clientY);</span><br><span class="line">con.strokeStyle = D.color();</span><br><span class="line">con.lineWidth=D.width;</span><br><span class="line">con.lineCap =&#x27;round&#x27;;</span><br><span class="line">con.lineJoin = &#x27;round&#x27;;</span><br><span class="line">document.onmousemove=function(e)&#123;</span><br><span class="line">con.lineTo(e.clientX,e.clientY);</span><br><span class="line">con.stroke();</span><br><span class="line">document.onmouseup=function()&#123;</span><br><span class="line">document.onmousemove=null;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>我之前用window.onload来绑定函数修改canvas的高度，这通过运行框运行open新页面，在chrome下获取document.documentElemnet.offsetHeight时会等于0，导致绘图板高度也没了。<br>另外发现，Opera下绘线同其他浏览器有点差别：单独的一个path(即同上一次的path没有瓜葛)，如果没有moveTo设置起点，一般浏览器会以第一个lineTo为起点，这在Opera下是不正确的。</p><p>下面再放一个百度UEO基于canvas绘制热力图的演示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;title&gt;canvas热力图演示&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">.wrap&#123;width:1000px;height:500px;margin:0 auto;border:2px solid #eee;&#125;</span><br><span class="line">#pad&#123;position:absolute;z-index:-1;top:0;left:50%;background:#eee;opacity:.8;&#125;</span><br><span class="line">#switch&#123;position:absolute;z-index:20;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body onmousedown=imit(event)&gt;</span><br><span class="line">&lt;div class=&quot;wrap&quot; &gt;</span><br><span class="line">&lt;img src=&quot;https://www.google.com.hk/intl/zh-CN/images/logo_cn.png&quot; /&gt;</span><br><span class="line">&lt;img src=&quot;https://www.google.com.hk/intl/zh-CN/images/logo_cn.png&quot; /&gt;</span><br><span class="line">&lt;img src=&quot;https://www.google.com.hk/intl/zh-CN/images/logo_cn.png&quot; /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;input id=&quot;switch&quot;type=&#x27;button&#x27; value=&quot;切换热力图显示在上层&quot; /&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var canvas= document.createElement(&#x27;canvas&#x27;);</span><br><span class="line">var context = canvas.getContext(&#x27;2d&#x27;);</span><br><span class="line">canvas.id = &quot;pad&quot;;</span><br><span class="line">canvas.width = document.documentElement.scrollWidth;</span><br><span class="line">canvas.height = Math.max(document.documentElement.clientHeight,document.body.offsetHeight);</span><br><span class="line">canvas.style.marginLeft = - canvas.width/2+&#x27;px&#x27;;</span><br><span class="line">document.body.appendChild(canvas);</span><br><span class="line">var points =[];</span><br><span class="line">var oData = [];</span><br><span class="line">var imit=function(e)&#123;</span><br><span class="line">points.push([e.clientX - canvas.offsetLeft, e.clientY]);  //手动模拟点,再按二次函数自动生成100个点。</span><br><span class="line">for(var i=0; i&lt;100 ;i++)&#123;</span><br><span class="line">var r1=Math.random()*2,r2=Math.random()*2;</span><br><span class="line">points.push([parseInt(Math.pow(r1,2)*500)+5,parseInt(Math.pow(r2,2)*150)+5])</span><br><span class="line">&#125;</span><br><span class="line">analy();</span><br><span class="line">draw();</span><br><span class="line">&#125;</span><br><span class="line">function analy()&#123;</span><br><span class="line">var cache = &#123;&#125;;</span><br><span class="line">//计算每个点的密度</span><br><span class="line">for (var i = 0, len = points.length; i &lt; len; i++) &#123;</span><br><span class="line">var key = points[i][0] + &#x27;*&#x27; + points[i][1];</span><br><span class="line"> if (cache[key]) &#123;</span><br><span class="line">cache[key] ++;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">cache[key] = 1;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">//点数据还原</span><br><span class="line">oData.length=0;</span><br><span class="line">for (var m in cache) &#123;</span><br><span class="line">if (m == &#x27;0*0&#x27;) continue;</span><br><span class="line">var x = parseInt(m.split(&#x27;*&#x27;)[0], 10);</span><br><span class="line">var y = parseInt(m.split(&#x27;*&#x27;)[1], 0);</span><br><span class="line">oData.push([x, y, cache[m]]);</span><br><span class="line">&#125;</span><br><span class="line">//简单排序，使用数组内建的sort</span><br><span class="line">oData.sort(function(a, b)&#123;</span><br><span class="line">return a[2] - b[2];</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">function draw()&#123;</span><br><span class="line">context.clearRect(0,0,canvas.width,canvas.height); //每次点击都要重绘，每次重绘都需清屏</span><br><span class="line">var max = oData[oData.length - 1][2];</span><br><span class="line">max=(max==1) ? 2 : max   //如果最大密度等于1，则认为2，避免log(max)为0</span><br><span class="line">var pi2 = Math.PI * 2;</span><br><span class="line">//alpha增强参数</span><br><span class="line">var pr = (Math.log(245)-1)/245;</span><br><span class="line">for (var i = 0, len = oData.length; i &lt; len; i++) &#123;</span><br><span class="line">//q参数用于平衡梯度差，使之符合人的感知曲线log2N，如需要精确梯度，去掉log计算</span><br><span class="line">var q = parseInt(Math.log(oData[i][2]) / Math.log(max) * 255);</span><br><span class="line">var r = parseInt(128 * Math.sin((1 / 256 * q - 0.5 ) * Math.PI ) + 200);</span><br><span class="line">var g = parseInt(128 * Math.sin((1 / 128 * q - 0.5 ) * Math.PI ) + 127);</span><br><span class="line">var b = parseInt(256 * Math.sin((1 / 256 * q + 0.5 ) * Math.PI ));</span><br><span class="line">var alp = (0.92 * q + 20) / 255;</span><br><span class="line">//灰度增强，</span><br><span class="line">//var alp = (Math.exp(pr * q + 1) + 10) / 255</span><br><span class="line">var radgrad = context.createRadialGradient(oData[i][0], oData[i][1], 1, oData[i][0], oData[i][1], 8);</span><br><span class="line">radgrad.addColorStop( 0, &#x27;rgba(&#x27; + r + &#x27;,&#x27; + g + &#x27;,&#x27;+ b + &#x27;,&#x27; + alp + &#x27;)&#x27;);</span><br><span class="line">radgrad.addColorStop( 1, &#x27;rgba(&#x27; + r + &#x27;,&#x27; + g + &#x27;,&#x27;+ b + &#x27;,0)&#x27;);</span><br><span class="line">context.fillStyle = radgrad;</span><br><span class="line">context.fillRect( oData[i][0] - 8, oData[i][1] - 8, 16, 16);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">var switcher = document.getElementById(&quot;switch&quot;);</span><br><span class="line">switcher.onclick = function()&#123;</span><br><span class="line">canvas.style.zIndex = (canvas.style.zIndex == -1) ?  10 : -1; //注意一点，style.xx只能取得行内样式的，要获取外部样式可以使用getComputedStyle和currentStyle.</span><br><span class="line">//canvas.style.display = (canvas.style.display == &#x27;block&#x27;) ?  &#x27;none&#x27; : &#x27;block&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span c</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>模拟引力环境下的运动轨迹</title>
    <link href="https://www.cssass.com/2010/08/28/%E6%A8%A1%E6%8B%9F%E5%BC%95%E5%8A%9B%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E8%BF%90%E5%8A%A8%E8%BD%A8%E8%BF%B9/"/>
    <id>https://www.cssass.com/2010/08/28/%E6%A8%A1%E6%8B%9F%E5%BC%95%E5%8A%9B%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E8%BF%90%E5%8A%A8%E8%BD%A8%E8%BF%B9/</id>
    <published>2010-08-28T08:32:37.000Z</published>
    <updated>2023-06-28T08:34:25.473Z</updated>
    
    <content type="html"><![CDATA[<p>话说这篇文章的起源还得从1643年1月4日谈起。这一天，一位引领人类认知世界的巨人诞生了，他就是艾萨克·牛顿（Isaac Newton）。<br>扯远了，就近一点：2010年1月4日，为了纪念牛顿，google设计了一个Google Doodles<br>看这里：今日google纪念logo,典型的物理运动实现<br>进口审核剪切版：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;button&quot; value=&quot;demo&quot; onclick=&quot;demo()&quot; /&gt;</span><br><span class="line">&lt;img id=&quot;fall&quot; src=&quot;http://www.google.com/logos/newton09-apple.png&quot; style=&quot;position:absolute;left:200px;top:46px&quot;/&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">function demo()&#123;</span><br><span class="line">var h=1,k=-0.5,f=document.getElementById(&#x27;fall&#x27;),</span><br><span class="line">i=setInterval(function()&#123;</span><br><span class="line">if(f)&#123;</span><br><span class="line">var y=parseInt(f.style.top) + h;</span><br><span class="line">if(y&lt;210) &#123;h+=2&#125;</span><br><span class="line">else&#123;</span><br><span class="line">h*=(h&gt;1)?k:0</span><br><span class="line">&#125;</span><br><span class="line">f.style.top=y+&#x27;px&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">if(h==0)&#123;clearInterval(i);h=1;&#125;</span><br><span class="line">&#125;,25);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>随后，我便模拟了一个重力环境下的抛物线运动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">  &lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;模拟重力环境下的抛物运动（假使1px==1mm）&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">html,body&#123;height:100%;overflow:hidden;&#125;</span><br><span class="line">p&#123;margin:2px;font-size:12px;&#125;</span><br><span class="line">label&#123;display:inline-block;width:80px;text-align:right;&#125;</span><br><span class="line">input&#123;width:80px;&#125;</span><br><span class="line">.wrap&#123;position:relative;width:800px;height:500px;margin:5px;border:1px solid #ccc;&#125;</span><br><span class="line">#fall&#123;width:20px;font-size:0;height:20px;background:orange;position:absolute;top:0;left:0;border-radius:10px;-moz-border-radius:10px;-webkit-border-radius:10px;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;&lt;label&gt;横向初速度：&lt;/label&gt;&lt;input id=&quot;Vx&quot; type=&quot;text&quot; value=&quot;3&quot; /&gt;px/ms&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;label&gt;纵向初速度：&lt;/label&gt;&lt;input id=&quot;Vy&quot; type=&quot;text&quot; value=&quot;0&quot; /&gt;px/ms&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;label&gt;重力加速度：&lt;/label&gt;&lt;input id=&quot;a&quot; type=&quot;text&quot; value=&quot;0.0098&quot; /&gt;px/平方ms&lt;/p&gt;</span><br><span class="line">&lt;p&gt;（如果这个加速度是一个随时间变化的值，就能达到其他非匀加速运动的效果了。）&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;label&gt;单位时间：&lt;/label&gt;&lt;input id=&quot;t&quot; type=&quot;text&quot; value=&quot;10&quot; /&gt;（记录运动的时间间隔）</span><br><span class="line">&lt;p&gt;&lt;button type=&quot;button&quot;  onclick=&quot;demo()&quot;&gt;演示&lt;/button&gt;&lt;/p&gt;</span><br><span class="line">&lt;div class=&quot;wrap&quot;&gt;</span><br><span class="line">&lt;div id=&quot;fall&quot;&gt;o&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var $id=function(o) &#123;</span><br><span class="line">return document.getElementById(o) || o;</span><br><span class="line">&#125;</span><br><span class="line">var demo=function() &#123;</span><br><span class="line">var x=$id(&#x27;Vx&#x27;).value,</span><br><span class="line">y=$id(&#x27;Vy&#x27;).value,</span><br><span class="line">a=$id(&#x27;a&#x27;).value,</span><br><span class="line">t=$id(&#x27;t&#x27;).value;</span><br><span class="line">shoot(x,y,a,t);</span><br><span class="line">&#125;</span><br><span class="line">var shoot=function(x,y,a,t) &#123;</span><br><span class="line">var f=document.getElementById(&#x27;fall&#x27;);</span><br><span class="line">var Vx=parseInt(x),</span><br><span class="line">Vy=parseInt(y),</span><br><span class="line">g=a,</span><br><span class="line">t=parseInt(t),</span><br><span class="line">h=0,l=0,Sx=0,Sy=0;</span><br><span class="line">var i=setInterval(function()&#123;</span><br><span class="line">if(f)&#123;</span><br><span class="line">Sx+=Vx*t;</span><br><span class="line">l=Sx;</span><br><span class="line">Vy+=g*t;</span><br><span class="line">h+=Vy*t;</span><br><span class="line">if(h&gt;480) &#123;</span><br><span class="line">h=480;</span><br><span class="line">clearInterval(i);</span><br><span class="line">&#125;</span><br><span class="line">if(l&gt;780) &#123;</span><br><span class="line">l=780;</span><br><span class="line">clearInterval(i);</span><br><span class="line">&#125;</span><br><span class="line">f.style.left=l+&#x27;px&#x27;;</span><br><span class="line">f.style.top=h+&#x27;px&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,t);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>模拟采用的公式</p><p>Function: 对于运动瞬间<br>V&#x3D;V0+aT;<br>S&#x3D;S0+VT;<br>T：运动的时间间隔，是固定值。<br>这个公式有别于那种运动模拟中常用的补间动画公式（tween算法）。<br>补间动画是需要事先确定总路程，和总时间的，<br>而我们模拟的运动轨迹没有事先计算，因为我们运动中间或许还有一些变数，比如撞击，主动改变方向（键盘控制）等等，所以我觉得这个物理公式更能模拟出真实的各种运动。</p><p>直至本月前两天，某同事向我展示了这个：<br>重力版google(浏览首选chrome,safari,次选opera,firefox,若是ie9以下请无视)<br>膜拜啊。js且不论，css3已经大量使用了。我还只局限用用阴影，圆角呢。</p><p>不才，也做一个关于落体，撞击，摩擦的简单模拟。以表膜拜。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">  &lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;模拟引力环境下的撞击、摩擦、落体运动&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">html,body&#123;height:100%;overflow:hidden;&#125;</span><br><span class="line">p&#123;margin:2px;font-size:12px;&#125;</span><br><span class="line">label&#123;display:inline-block;width:80px;text-align:right;&#125;</span><br><span class="line">input&#123;width:80px;&#125;</span><br><span class="line">#fall&#123;width:20px;font-size:0;height:20px;background:orange;position:absolute;top:50px;left:400px;border-radius:10px;-moz-border-radius:10px;-webkit-border-radius:10px;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;&lt;label&gt;横向初速度：&lt;/label&gt;&lt;input id=&quot;Vx&quot; type=&quot;text&quot; value=&quot;3&quot; /&gt;px/ms&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;label&gt;纵向初速度：&lt;/label&gt;&lt;input id=&quot;Vy&quot; type=&quot;text&quot; value=&quot;0&quot; /&gt;px/ms&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;label&gt;重力加速度：&lt;/label&gt;&lt;input id=&quot;a&quot; type=&quot;text&quot; value=&quot;0.01&quot; /&gt;px/平方ms&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;label&gt;单位时间：&lt;/label&gt;&lt;input id=&quot;t&quot; type=&quot;text&quot; value=&quot;10&quot; /&gt;（记录运动的时间间隔）</span><br><span class="line">&lt;p&gt;(摩擦，碰撞的消耗并没有按公式进行计算，纯属于杜撰，是不符合规律的，仅仅是模拟。)&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;button type=&quot;button&quot;  onclick=&quot;demo()&quot;&gt;演示&lt;/button&gt; &lt;button type=&quot;button&quot;  onclick=&quot;$id(&#x27;fall&#x27;).style.cssText = &#x27;top:50px;left:400px;&#x27;&quot;&gt;重置(可拖动放置)&lt;/button&gt;&lt;/p&gt;</span><br><span class="line">&lt;div id=&quot;fall&quot; onmousedown=&#x27;drag(this,event)&#x27;&gt;o&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var $id=function(o) &#123;</span><br><span class="line">return document.getElementById(o) || o;</span><br><span class="line">&#125;</span><br><span class="line">var demo=function() &#123;</span><br><span class="line">var x=$id(&#x27;Vx&#x27;).value,</span><br><span class="line">y=$id(&#x27;Vy&#x27;).value,</span><br><span class="line">a=$id(&#x27;a&#x27;).value,</span><br><span class="line">t=$id(&#x27;t&#x27;).value;</span><br><span class="line">shoot(x,y,a,t);</span><br><span class="line">&#125;</span><br><span class="line">var shoot=function(x,y,a,t) &#123;</span><br><span class="line">if(i) &#123;alert(1);clearInterval(i)&#125;;</span><br><span class="line">var f=document.getElementById(&#x27;fall&#x27;);</span><br><span class="line">var Vx=parseFloat(x),</span><br><span class="line">Vy=parseFloat(y),</span><br><span class="line">g=parseFloat(a),</span><br><span class="line">h=f.offsetTop,</span><br><span class="line">Sx=f.offsetLeft,</span><br><span class="line">l=0,</span><br><span class="line">t=parseInt(t);</span><br><span class="line">var i=setInterval(function()&#123;</span><br><span class="line">if(f)&#123;</span><br><span class="line">Sx+=Vx*t;</span><br><span class="line">l=Sx;</span><br><span class="line">Vy+=g*t;</span><br><span class="line">h+=Vy*t;</span><br><span class="line">if(h&gt;=document.documentElement.offsetHeight-f.offsetHeight) &#123;  //底部</span><br><span class="line">h=document.documentElement.offsetHeight-f.offsetHeight;</span><br><span class="line">Vx=(Math.abs(Vx)-0.005 &lt; 0) ? 0 : Vx/Math.abs(Vx) * (Math.abs(Vx)-0.005)   //摩擦消耗x速度</span><br><span class="line">Vy=(Math.abs(Vy)-0.1 &lt; 0) ? 0 : -(Math.abs(Vy)-0.1);                   //撞击消耗y速度</span><br><span class="line">if(Math.abs(Vy)==0 &amp;&amp; Math.abs(Vx)==0 ) &#123;clearInterval(i);&#125;            //x,y速度为0时，clear</span><br><span class="line">&#125;</span><br><span class="line">if(l&lt;0 || l&gt;document.documentElement.offsetWidth-f.offsetWidth) &#123;  //左右两侧</span><br><span class="line">Sx=(l&lt;0) ? 0 : document.documentElement.offsetWidth-f.offsetWidth;</span><br><span class="line">Vx=(Math.abs(Vx)-0.1 &lt; 0) ? 0 : -Vx/Math.abs(Vx) * (Math.abs(Vx)-0.1)  //撞击消耗x速度</span><br><span class="line">&#125;</span><br><span class="line">f.style.left=l+&#x27;px&#x27;;</span><br><span class="line">f.style.top=h+&#x27;px&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,t);</span><br><span class="line">&#125;;</span><br><span class="line">var drag=function(o,e)&#123; //拖曳位置，与运动模拟无关</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">if(!window.event) &#123;e.preventDefault();&#125;</span><br><span class="line">var tX=o.offsetLeft,</span><br><span class="line">tY=o.offsetTop,</span><br><span class="line">dx=e.clientX,</span><br><span class="line">dy=e.clientY;</span><br><span class="line">document.onmousemove=function(e)&#123;</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">o.style.left=tX+e.clientX-dx+&quot;px&quot;;</span><br><span class="line">o.style.top=tY+e.clientY-dy+&quot;px&quot;;</span><br><span class="line">&#125;</span><br><span class="line">document.onmouseup=function()&#123;</span><br><span class="line">document.onmousemove=null;</span><br><span class="line">document.onmouseup=null;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;话说这篇文章的起源还得从1643年1月4日谈起。这一天，一位引领人类认知世界的巨人诞生了，他就是艾萨克·牛顿（Isaac Newton）。&lt;br&gt;扯远了，就近一点：2010年1月4日，为了纪念牛顿，google设计了一个Google Doodles&lt;br&gt;看这里：今日goo</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>suggestion效果的键盘鼠标事件</title>
    <link href="https://www.cssass.com/2010/08/23/suggestion%E6%95%88%E6%9E%9C%E7%9A%84%E9%94%AE%E7%9B%98%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6/"/>
    <id>https://www.cssass.com/2010/08/23/suggestion%E6%95%88%E6%9E%9C%E7%9A%84%E9%94%AE%E7%9B%98%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6/</id>
    <published>2010-08-23T08:30:13.000Z</published>
    <updated>2023-06-28T08:31:56.305Z</updated>
    
    <content type="html"><![CDATA[<p>google的suggestion功能是一个非常棒的用户体验创新，相信你之前也已经使用过了。不过由于某些原因，国内现在却不能使用这个功能了。<br>不过,你还可以在baidu上使用相同的功能。对于好点子好创意，模仿学习并不是件坏事。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;style type=&#x27;text/css&#x27;&gt;</span><br><span class="line">.sugg&#123;position:relative;font-size:12px;&#125;</span><br><span class="line">.sugg a&#123;text-decoration:none;&#125;</span><br><span class="line">.sugg .text&#123;width:210px;height:18px;padding:3px;color:#474747;border:1px solid #ADCAD8;&#125;</span><br><span class="line">#suggestion&#123;display:none;position:absolute;top:26px;left:0;width:216px;border:1px solid #3890d0;border-top:0;background:#fff;&#125;</span><br><span class="line">#suggestion a&#123;display:block;height:25px;line-height:25px;padding:0 5px;color:#000;&#125;</span><br><span class="line">#suggestion a img&#123;vertical-align:middle;&#125;</span><br><span class="line">#suggestion #hover&#123;background:#378ece;color:#fff;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&#x27;sugg&#x27;&gt;</span><br><span class="line">&lt;form id=&#x27;suggF&#x27; action=&quot;http://www.baidu.com/baidu&quot; onsubmit=&quot;document.charset=&#x27;GBK&#x27;;sug.hide()&quot; accept-charset=&#x27;GBK&#x27; target=&quot;_blank&quot;&gt;</span><br><span class="line">&lt;input class=&#x27;text&#x27; type=text name=wd autocomplete=&quot;off&quot; onkeydown=&quot;pressKey(this,event)&quot; /&gt;</span><br><span class="line">&lt;input id=&#x27;sub&#x27; type=&quot;submit&quot; value=&quot;搜索&quot; /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;div id=&#x27;suggestion&#x27;&gt;</span><br><span class="line">&lt;a href=&#x27;javascript:;&#x27; onmouseover=&quot;sug.hover(this);&quot; onclick=&quot;sug.select();&quot;&gt;思思&lt;/a&gt;</span><br><span class="line">&lt;a href=&#x27;javascript:;&#x27; onmouseover=&quot;sug.hover(this);&quot; onclick=&quot;sug.select();&quot;&gt;芊芊&lt;/a&gt;</span><br><span class="line">&lt;a href=&#x27;javascript:;&#x27; onmouseover=&quot;sug.hover(this);&quot; onclick=&quot;sug.select();&quot;&gt;cssass&lt;/a&gt;</span><br><span class="line">&lt;a href=&#x27;javascript:;&#x27; onmouseover=&quot;sug.hover(this);&quot; onclick=&quot;sug.select();&quot;&gt;敏敏&lt;/a&gt;</span><br><span class="line">&lt;a href=&#x27;javascript:;&#x27; onmouseover=&quot;sug.hover(this);&quot; onclick=&quot;sug.select();&quot;&gt;黎黎&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">suggestion显示之后，使用方向键或鼠标进行选择。</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&#x27;text/javascript&#x27;&gt;</span><br><span class="line">var $id=function(o)&#123;</span><br><span class="line">return document.getElementById(o) || o;</span><br><span class="line">&#125;</span><br><span class="line">var pressKey=function(o,e)&#123;</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">var k = e.keyCode;</span><br><span class="line">switch(k)&#123;</span><br><span class="line">case 9 :  //tab键</span><br><span class="line">case 13 : return false; //回车键</span><br><span class="line">default : sug.show(o,k); break;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">var sug=&#123;</span><br><span class="line">show:function(o,k)&#123;</span><br><span class="line">/* 此时动态读取suggestion数据（略）*/</span><br><span class="line">document.getElementById(&#x27;suggestion&#x27;).style.display=&#x27;block&#x27;;</span><br><span class="line">document.onclick=function()&#123;sug.hide()&#125;;</span><br><span class="line">if (k != 38 &amp;&amp; k != 40 &amp;&amp; k != 39 &amp;&amp; k != 37) &#123; //非方向键</span><br><span class="line"> sug.i = -1;</span><br><span class="line">&#125;</span><br><span class="line">sug.i = sug.i || 0;</span><br><span class="line">var list = $id(&#x27;suggestion&#x27;).getElementsByTagName(&quot;a&quot;);</span><br><span class="line">var prev = &#x27;&#x27;;</span><br><span class="line">switch(k)&#123;</span><br><span class="line">case 38:</span><br><span class="line">sug.clear();</span><br><span class="line">if (sug.i &lt; 1) &#123;</span><br><span class="line">sug.i = list.length</span><br><span class="line">&#125;</span><br><span class="line">sug.i--;</span><br><span class="line">list[sug.i].id = &quot;hover&quot;;</span><br><span class="line">o.value = list[sug.i].innerHTML;</span><br><span class="line">return false;</span><br><span class="line">case 40:</span><br><span class="line">sug.clear();</span><br><span class="line">if (sug.i == list.length - 1) &#123;</span><br><span class="line">sug.i = -1</span><br><span class="line">&#125;</span><br><span class="line">sug.i++;</span><br><span class="line">list[sug.i].id = &quot;hover&quot;;</span><br><span class="line">o.value = list[sug.i].innerHTML;</span><br><span class="line">return false;</span><br><span class="line">default : break;</span><br><span class="line">&#125;</span><br><span class="line">sug.hover=function(othis)&#123; //鼠标划过</span><br><span class="line">sug.clear();</span><br><span class="line">for(i=0;i&lt;list.length;i++)&#123;</span><br><span class="line">if(othis==list[i])&#123;</span><br><span class="line">sug.i=i;</span><br><span class="line">list[sug.i].id=&quot;hover&quot;;</span><br><span class="line">o.value = othis.innerHTML;</span><br><span class="line">return ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">sug.clear=function()&#123;</span><br><span class="line">prev = $id(&#x27;hover&#x27;);</span><br><span class="line">if (prev) prev.id = &#x27;&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">sug.select=function()&#123; //鼠标选中</span><br><span class="line">document.charset=&#x27;GBK&#x27;;</span><br><span class="line">$id(&#x27;suggF&#x27;).submit();</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">hide:function()&#123;</span><br><span class="line">$id(&#x27;suggestion&#x27;).style.display=&#x27;none&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>下面是加入google的数据（墙内也有几率可以看到效果）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&#x27;UTF-8&#x27; /&gt;</span><br><span class="line">&lt;style type=&#x27;text/css&#x27;&gt;</span><br><span class="line">.sugg&#123;position:relative;font-size:12px;&#125;</span><br><span class="line">.sugg a&#123;text-decoration:none;&#125;</span><br><span class="line">.sugg .text&#123;width:210px;height:18px;padding:3px;color:#474747;border:1px solid #ADCAD8;&#125;</span><br><span class="line">#suggestion&#123;display:none;position:absolute;top:26px;left:0;width:216px;border:1px solid #3890d0;border-top:0;background:#fff;&#125;</span><br><span class="line">.listitem&#123;display:block;height:25px;line-height:25px;padding:0 5px;color:#000;cursor:pointer;&#125;</span><br><span class="line">.itemhover&#123;background:#378ece;color:#fff;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;http://www.cssass.com/public/js/extend.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&#x27;sugg&#x27;&gt;</span><br><span class="line">&lt;form id=&quot;searchForm&quot; method=&quot;GET&quot;  action=&quot;http://www.baidu.com/baidu&quot;&gt;</span><br><span class="line">&lt;input class=&#x27;text&#x27; type=text name=wd autocomplete=&quot;off&quot;  id=&quot;keyInput&quot; /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;div id=&#x27;suggestion&#x27;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&#x27;text/javascript&#x27;&gt;</span><br><span class="line">function Suggest(inputer, shower)&#123;</span><br><span class="line">this.global = &#123;</span><br><span class="line">keyElm : inputer,</span><br><span class="line">showElm : shower,</span><br><span class="line">ajaxURL : &#x27;https://www.google.com/complete/search&#x27;,</span><br><span class="line">ajaxData : &#123;</span><br><span class="line">&#x27;client&#x27; : &#x27;hp&#x27;,</span><br><span class="line">&#x27;xhr&#x27; : &#x27;t&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">index : -1</span><br><span class="line">&#125;</span><br><span class="line">this.bind();</span><br><span class="line">&#125;;</span><br><span class="line">Suggest.prototype = &#123;</span><br><span class="line">bind: function()&#123;</span><br><span class="line">var that = this;</span><br><span class="line">events.addEvent(this.global.keyElm, &quot;keyup&quot;, function()&#123;</span><br><span class="line">var e = arguments[0] || window.event,</span><br><span class="line">k = e.keyCode;</span><br><span class="line">switch(k)&#123;</span><br><span class="line">case 9 :  //tab键</span><br><span class="line">case 13 : //回车键</span><br><span class="line">that.hide();</span><br><span class="line">return false;</span><br><span class="line">case 37 :</span><br><span class="line">case 38 :</span><br><span class="line">case 39 :</span><br><span class="line">case 40 :</span><br><span class="line"> that.select(k); //方向键</span><br><span class="line"> break;</span><br><span class="line">default :</span><br><span class="line"> that.show(k);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">events.delegate(this.global.showElm, &quot;.listitem&quot;, &quot;mouseover&quot;, function()&#123;</span><br><span class="line">var e = arguments[0] || window.event,</span><br><span class="line">target = e.srcElement || e.target;</span><br><span class="line">that.hover(target);</span><br><span class="line">&#125;);</span><br><span class="line">events.addEvent(this.global.showElm,&quot;click&quot;, function()&#123;</span><br><span class="line">$id(&quot;searchForm&quot;).submit();</span><br><span class="line">&#125;);</span><br><span class="line">events.addEvent(document, &#x27;click&#x27;, function()&#123;</span><br><span class="line">that.hide();</span><br><span class="line">&#125;);</span><br><span class="line">&#125;,</span><br><span class="line">show: function(k)&#123;</span><br><span class="line">var that = this;</span><br><span class="line">this.global.ajaxData.q = this.global.keyElm.value;</span><br><span class="line">$jsonp(this.global.ajaxURL, this.global.ajaxData, function(msg)&#123;</span><br><span class="line">var list = msg[1],</span><br><span class="line">html = &#x27;&#x27;;</span><br><span class="line">if(!list.length )&#123;</span><br><span class="line">that.hide();</span><br><span class="line">&#125;else&#123;</span><br><span class="line">for(var i = 0 ; i&lt; list.length; i++)&#123;</span><br><span class="line">html += &quot;&lt;span class=&#x27;listitem&#x27; idx=&quot;+i+&quot;&gt;&quot;+list[i][0]+&quot;&lt;/span&gt;&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">that.global.showElm.style.display=&#x27;block&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">that.global.showElm.innerHTML = html;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;,</span><br><span class="line">hide: function()&#123;</span><br><span class="line">$id(&#x27;suggestion&#x27;).style.display=&#x27;none&#x27;;</span><br><span class="line">&#125;,</span><br><span class="line">select: function(k)&#123;</span><br><span class="line">var list = $tag(&quot;span&quot;, $id(&#x27;suggestion&#x27;));</span><br><span class="line">if(list.length &lt; 1) return false;</span><br><span class="line">switch(k)&#123;</span><br><span class="line">case 38:</span><br><span class="line">this.global.index --;</span><br><span class="line">if (this.global.index &lt; 0) &#123;</span><br><span class="line">this.global.index = list.length - 1;</span><br><span class="line">&#125;</span><br><span class="line">break;</span><br><span class="line">case 40:</span><br><span class="line">this.global.index ++;</span><br><span class="line">if (this.global.index &gt; list.length - 1) &#123;</span><br><span class="line">this.global.index = 0</span><br><span class="line">&#125;</span><br><span class="line">break;</span><br><span class="line">default :</span><br><span class="line">return false;</span><br><span class="line">&#125;</span><br><span class="line">this.setValue(list[this.global.index]);</span><br><span class="line">&#125;,</span><br><span class="line">hover : function(target)&#123;</span><br><span class="line">this.global.index = target.getAttribute(&quot;idx&quot;);</span><br><span class="line">this.setValue(target);</span><br><span class="line">&#125;,</span><br><span class="line">setValue : function(o)&#123;</span><br><span class="line">removeClass($class(&quot;itemhover&quot;), &quot;itemhover&quot;);</span><br><span class="line">addClass(o, &quot;itemhover&quot;);</span><br><span class="line">this.global.keyElm.value = o.innerText || o.textContent;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">new Suggest($id(&quot;keyInput&quot;), $id(&quot;suggestion&quot;));</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;google的suggestion功能是一个非常棒的用户体验创新，相信你之前也已经使用过了。不过由于某些原因，国内现在却不能使用这个功能了。&lt;br&gt;不过,你还可以在baidu上使用相同的功能。对于好点子好创意，模仿学习并不是件坏事。&lt;/p&gt;
&lt;figure class=&quot;h</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>元素的拖动效果</title>
    <link href="https://www.cssass.com/2010/05/13/%E5%85%83%E7%B4%A0%E7%9A%84%E6%8B%96%E5%8A%A8%E6%95%88%E6%9E%9C/"/>
    <id>https://www.cssass.com/2010/05/13/%E5%85%83%E7%B4%A0%E7%9A%84%E6%8B%96%E5%8A%A8%E6%95%88%E6%9E%9C/</id>
    <published>2010-05-13T08:27:11.000Z</published>
    <updated>2023-06-28T08:28:48.688Z</updated>
    
    <content type="html"><![CDATA[<p>先看一下普通的拖动元素的代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;简单拖曳&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">html,body&#123;height:100%;overflow:hidden;&#125;</span><br><span class="line">.tips&#123;position:absolute;background:#eee;width:100px;height:100px;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;tips&quot; onmousedown=&quot;drag(this,event);&quot;&gt;</span><br><span class="line">拖动框</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var drag=function(o,e)&#123;</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">var tX=o.offsetLeft,</span><br><span class="line">tY=o.offsetTop,</span><br><span class="line">dx=e.clientX,</span><br><span class="line">dy=e.clientY;</span><br><span class="line">document.onmousemove=function(e)&#123;</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">o.style.left=tX+(e.clientX-dx)+&quot;px&quot;;</span><br><span class="line">o.style.top=tY+(e.clientY-dy)+&quot;px&quot;;</span><br><span class="line">&#125;</span><br><span class="line">document.onmouseup=function()&#123;</span><br><span class="line">document.onmousemove=null;</span><br><span class="line">document.onmouseup=null;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>非常简单。</p><p>考虑一下边境问题：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;简单拖曳&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">html,body&#123;height:100%;overflow:hidden;&#125;</span><br><span class="line">.tips&#123;position:absolute;background:#eee;width:100px;height:100px;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body style=&quot;&quot;&gt;</span><br><span class="line">&lt;div class=&quot;tips&quot; onmousedown=&quot;drag(this,event);&quot;&gt;</span><br><span class="line">拖动框</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var drag=function(o,e)&#123;</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">var tX=o.offsetLeft,</span><br><span class="line">tY=o.offsetTop,</span><br><span class="line">dx=e.clientX,</span><br><span class="line">dy=e.clientY;</span><br><span class="line">var largeL = document.documentElement.offsetWidth -  o.offsetWidth,</span><br><span class="line">largeT = Math.max(document.documentElement.clientHeight,document.body.offsetHeight) - o.offsetHeight;</span><br><span class="line">document.onmousemove=function(e)&#123;</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">var oX = tX + (e.clientX - dx),</span><br><span class="line">oY = tY + (e.clientY - dy);</span><br><span class="line">(function()&#123;</span><br><span class="line">/* 考虑边境 */</span><br><span class="line">if(oX &gt; largeL || oX &lt; 0)&#123;</span><br><span class="line">oX = (oX &lt; 0) ? 0 : largeL</span><br><span class="line">&#125;</span><br><span class="line">if(oY &gt; largeT || oY &lt; 0)&#123;</span><br><span class="line">oY = (oY &lt; 0) ? 0 : largeT</span><br><span class="line">&#125;</span><br><span class="line">&#125;)();</span><br><span class="line">o.style.left = oX + &quot;px&quot;;</span><br><span class="line">o.style.top = oY + &quot;px&quot;;</span><br><span class="line">&#125;</span><br><span class="line">document.onmouseup=function()&#123;</span><br><span class="line">document.onmousemove=null;</span><br><span class="line">document.onmouseup=null;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>如果拖动层内有元素不允许拖动。可以绑定一个事件，阻止拖动处理函数的执行。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;简单拖曳&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">html,body&#123;height:100%;overflow:hidden;&#125;</span><br><span class="line">.tips&#123;position:absolute;background:#eee;width:180px;height:200px;&#125;</span><br><span class="line">textarea&#123;font-size:12px;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;tips&quot; onmousedown=&quot;drag(this,event);&quot;&gt;</span><br><span class="line">&lt;textarea cols=&#x27;25&#x27; rows=&#x27;5&#x27; onmousedown=&quot;(document.all)?(event.cancelBubble = true) : (event.stopPropagation())&quot;&gt;阻止拖动区域（ie,ff支持cancelBubble; ie除外，都支持标准stopPropagation()）&lt;/textarea&gt;</span><br><span class="line">可以拖动区域</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var drag=function(o,e)&#123;</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">var tX=o.offsetLeft,</span><br><span class="line">tY=o.offsetTop,</span><br><span class="line">dx=e.clientX,</span><br><span class="line">dy=e.clientY;</span><br><span class="line">document.onmousemove=function(e)&#123;</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">o.style.left=tX+(e.clientX-dx)+&quot;px&quot;;</span><br><span class="line">o.style.top=tY+(e.clientY-dy)+&quot;px&quot;;</span><br><span class="line">&#125;</span><br><span class="line">document.onmouseup=function()&#123;</span><br><span class="line">document.onmousemove=null;</span><br><span class="line">document.onmouseup=null;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>图片的drag&amp;drop需要注意浏览器中在拖动图片时候会有默认动作的，拖动带链接的内容也是。所以拖动这些内容时应阻止其事件，另外加入setCapture。（下面拖动代码略有差别）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;拖曳&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">*&#123;padding:0;margin:0;&#125;</span><br><span class="line">.tips&#123;position:absolute;background:#eee;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;tips&quot; id=&quot;tips1&quot; onmouseover=&quot;dragF.drag($id(&#x27;tips1&#x27;));&quot;&gt;</span><br><span class="line">&lt;img src=&quot;http://www.baidu.com/img/bd_logo1.png&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;tips&quot; id=&quot;tips2&quot; onmouseover=&quot;dragF.drag($id(&#x27;tips2&#x27;));&quot;&gt;</span><br><span class="line">&lt;a href=&quot;http://www.cssass.com&quot; target=&quot;_blank&quot;&gt;链接&lt;/a&gt;&lt;br /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var $id=function(id)&#123;return document.getElementById(id);&#125;</span><br><span class="line">var dragF=&#123;</span><br><span class="line">locked:false,</span><br><span class="line">lastObj:undefined,</span><br><span class="line">drag:function(obj)&#123;</span><br><span class="line">obj.onmousedown=function(e)&#123;</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">if(!window.event) &#123;e.preventDefault();&#125;/* 阻止标注浏览器下拖动a,img的默认事件 */</span><br><span class="line">if(obj.setCapture)&#123;</span><br><span class="line"> obj.setCapture();</span><br><span class="line">&#125;else if(window.captureEvents)&#123;</span><br><span class="line">window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP);</span><br><span class="line">&#125;</span><br><span class="line">dragF.locked=true;</span><br><span class="line">  obj.style.position=&quot;absolute&quot;;</span><br><span class="line">obj.style.zIndex=&quot;100&quot;;</span><br><span class="line">if (dragF.lastObj&amp;&amp;dragF.lastObj!=obj) &#123; /* 多元素拖动时候需要恢复上一次元素的状态 */</span><br><span class="line">dragF.lastObj.style.zIndex = &quot;1&quot;;</span><br><span class="line">&#125;</span><br><span class="line">dragF.lastObj=obj;</span><br><span class="line">var tempX=obj.offsetLeft;</span><br><span class="line">var tempY=obj.offsetTop;</span><br><span class="line">dragF.x=e.clientX;</span><br><span class="line">dragF.y=e.clientY;</span><br><span class="line">document.onmousemove=function(e)&#123;</span><br><span class="line">var e = e ? e : window.event;</span><br><span class="line">if(dragF.locked==false) return false;</span><br><span class="line">obj.style.left=tempX+(e.clientX-dragF.x)+&quot;px&quot;;</span><br><span class="line">obj.style.top=tempY+(e.clientY-dragF.y)+&quot;px&quot;;</span><br><span class="line">if(window.event) &#123;e.returnValue=false;&#125;/* 阻止ie下a,img的默认事件 */</span><br><span class="line">&#125;</span><br><span class="line">document.onmouseup=function()&#123;</span><br><span class="line">dragF.locked=false;</span><br><span class="line">document.onmousemove=null;</span><br><span class="line">document.onmouseup=null;</span><br><span class="line">if(obj.releaseCapture)&#123;</span><br><span class="line">obj.releaseCapture();</span><br><span class="line">&#125;else if(window.captureEvents)&#123;</span><br><span class="line">window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;先看一下普通的拖动元素的代码&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;lin</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>嗨，塞林格，我看了你的《麦田守望者》</title>
    <link href="https://www.cssass.com/2010/02/28/%E5%97%A8%EF%BC%8C%E5%A1%9E%E6%9E%97%E6%A0%BC%EF%BC%8C%E6%88%91%E7%9C%8B%E4%BA%86%E4%BD%A0%E7%9A%84%E3%80%8A%E9%BA%A6%E7%94%B0%E5%AE%88%E6%9C%9B%E8%80%85%E3%80%8B/"/>
    <id>https://www.cssass.com/2010/02/28/%E5%97%A8%EF%BC%8C%E5%A1%9E%E6%9E%97%E6%A0%BC%EF%BC%8C%E6%88%91%E7%9C%8B%E4%BA%86%E4%BD%A0%E7%9A%84%E3%80%8A%E9%BA%A6%E7%94%B0%E5%AE%88%E6%9C%9B%E8%80%85%E3%80%8B/</id>
    <published>2010-02-28T08:24:41.000Z</published>
    <updated>2023-06-28T08:25:05.513Z</updated>
    
    <content type="html"><![CDATA[<p>谁要是有塞林格在天堂的电话，请一定要告诉我，我真想打个电话向他说声我拜读了你的《麦田》，我想说你剽窃了我的一些想法——开个玩笑罢了，我知道你是开得起玩笑的。我有时候经常胡思乱想，这个症状总有上百年了吧，我是诧异老霍尔顿也有这个症状，如果你还和老霍尔顿有联系，请代我向他问好。</p><p>你要是让我在几十年前就能有机会，我是说不管是闲情雅致的，还是消遣时间的，总之是能够让我看到这本书，哪怕是瞥到那么一个开头，我觉得我一定会死命的读上一千遍——我不是说我现在读它的时候没有死命的读，我只是没能读上个一千遍，因为你也知道，我的现在的工作不是读书，我的混账工作是挣钱呢——嘿，我估计我当时说不准也会想着计划到哪个破麦田里去做个傻里傻气的守望者，不骗你，我会的，我估计在几十年前那个时候我会的，只要能有这样的地方。</p><p>可惜根本没他妈的这种地方，是吧，哪里会只有无忧无虑的小孩呢，哪里会只有小孩而只有你一个大人呢，哪里会有小孩无忧无虑却允许你一个大人混在他们里面的。你也知道没这种混账的好地方，霍尔顿也知道没这种的地方，这样他才想着到西部随便什么地方去，一个人，也不带上老菲比——那是个多可爱聪明又单纯有意思的小女孩啊，他不就想在麦田里当孩子们的守望者吗？——随便找个什么工作的——也不谈什么守望者的工作了。所以说大家都知道，根本没这种狗屁地方，也根本没这种混账工作，到麦田里的守望者都是说给自己听的鬼话罢了——或许只有我一个人在偶然的瞬间里当真了。</p><p>假如真没有什么麦田守望者的岗位，我也可以先随便找个什么没有人认识的狗屁地方，找个随便什么的混账工作。说到混账工作，能有什么工作不混账呢，每天都是浑浑噩噩的消磨时间，每天都是假模假式的面对别人，提起来就能腻死一个人。所以我也可以按霍尔顿那么打算，我可以每天不说话，装成又聋又哑的，当别人问你你也别说，这样久了，别人也就以为你是个又聋又哑的。你说我这样是逃避？哦，你真是冤枉死我了，如果你走在一条让人作呕的狗屎路上，你难道不避开吗？我不是说所有路都是狗屎的，我也正在找一条没有狗屎的路呢。相信我，有这样的路我干嘛还要避着走呢。可怜的霍尔顿当时没走成，我真替他难过，我要是在那，我真的想过去安慰他。尽管我自己也没走成。</p><p>但是，到了现在，要是有人说让你走，你走不走？我绝对想殴他，我不冤枉他，我对天发誓他是在挖坑害我。没有钱，没有地图，没有没狗屎路的过路票，我想我都会一直走到狗屎堆里去，他就是这个目的，让我走的那个家伙。还是安多里尼先生的告诫说的不错，他说的是“一个不成熟的男人的标志是他愿意为某种事业英勇的死去，一个成熟男人的标志是他愿意为某种事业卑贱地活着。”感谢安多里尼先生的总结，我终于找到了适合自己的狗屎事业，虽然很微小，但适合我，我可以都不需要怎么说话，因为我现在的工作是整天敲代码，我和代码交流，你知道要是我和代码说着话，大家都会以为我疯了——不过我们的确在交流，不带假模假式的，我为了它卑贱并快乐着，甚至都有些热爱。很荣幸我成为了一个成熟的男人。</p><p>塞林格，一个成熟的男人向你问午安，我是很真诚很真诚的，不带任何假模假式的。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;谁要是有塞林格在天堂的电话，请一定要告诉我，我真想打个电话向他说声我拜读了你的《麦田》，我想说你剽窃了我的一些想法——开个玩笑罢了，我知道你是开得起玩笑的。我有时候经常胡思乱想，这个症状总有上百年了吧，我是诧异老霍尔顿也有这个症状，如果你还和老霍尔顿有联系，请代我向他问好。</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>说说HTML5</title>
    <link href="https://www.cssass.com/2009/09/04/%E8%AF%B4%E8%AF%B4HTML5/"/>
    <id>https://www.cssass.com/2009/09/04/%E8%AF%B4%E8%AF%B4HTML5/</id>
    <published>2009-09-04T08:14:59.000Z</published>
    <updated>2023-06-28T08:22:31.043Z</updated>
    
    <content type="html"><![CDATA[<p>html5如何而来？<br>HTML isn’t a very good language！它亟待改进。<br>因此，1999年W3C停止了HTML的工作，2000年发布xhtml的第一个推荐版本。<br>2002年W3C发布XHTML 2.0第一个草案，令人吃惊的是：XHTML2.0不是向后兼容的（Web 的未来：XHTML 2.0(2003.1.1)）。<br>随着XHTML的越来越火，绝大多数人都认为它将是web的未来。然而终于有些人坐不住了，面对W3C对HTML的持续冷淡，2004年，由Apple, Mozilla Foundation 和Opera Software组成了The Web Hypertext Application Technology Working Group (WHATWG)，致力于发展HTML和创建Web applications所需的APIs。他们开始制定Web Applications 1.0 规范，这也就是后来HTML5。<br>WHATWG的努力没有白费，这份规范的草案在2007年通过了W3C的审核。<br>W3C组织了HTML工作组，并在2008年1月22日公开了第一份草案。<br>2009年7月2日，W3C宣布在年内停止XHTML 2的工作，而将资源投入转向HTML5工作组。（XHTML 2 Working Group Expected to Stop Work End of 2009, W3C to Increase Resources on HTML 5）<br>在标准化的春风吹满神州之际，xhtml2却溘然而止,HTML5取代上位，我们广大的web工作者是不是需要做什么呢？</p><p>我们不需要做什么！<br>HTML5 的目标是保持HTML当前标准HTML4.01和HTML的XML版本XHTML1.0 向后兼容。<br>同以前的HTML4一样：它没有名称空间或模式、元素不必结束、浏览器会宽容地对待错误。<br>对于XHTML1，它也没有什么排斥。<br>相反的，XHTML2才是不向后兼容的。<br>所以，我们并不需要非得做什么改变，才能适应在HTML5下面的页面工作。<br>当然HTML5不会仅仅如此而已，只是HTML5是想让不支持它的浏览器中能够平稳地退化。<br>随着浏览器的缓慢升级，HTML5的真正好处才会开始慢慢体现，当别人的网页通过html5实现了越来越多的功能之后。到时，你再虑是不是需要做什么——理论上讲，也是不晚的。<br>我们不需要做什么，但我们可以做的更多</p><p>HTML5能做什么？<br>一句话：很多！HTML5还在草案阶段，他的功能仍将扩展。<br>首先，我们应该知道，html5已经不只是Hypertext Markup Language，它更是一种Web Hypertext Application Technology。</p><ol><li><p>html5增加了一些结构性（Sections）元素：header,footer,nav,section,article,aside，用来替代千篇一律的div布局，非常语义化。</p></li><li><p>还有meter（数值尺），progress(进度表)，mark（标记）这些语义内联元素。通过自带的属性，可以进行很直接地描述。</p></li></ol><p>3.一些交互元素。details（脚注），datagrid（网格控件——可动态显示树、列表和表格），menu和command（可以做交互菜单）</p><ol start="4"><li><p>媒体元素video,audio,source。不需要借助第三方插件，页面就能播放多媒体。</p></li><li><p>canvas元素。脚本绘图，它的最终目标是flash般的动画展示和交互体验。不要以为很遥远，canvas在FireFox1.5就有了，opera,safari也是一样支持甚早（这个标签是就是苹果的发明）。</p></li><li><p>表单处理功能。HTML5吸收了WHATWG之前的Web Forms 2.0。验证数据是如此简单。</p></li><li><p>页面元素的拖曳和编辑。</p></li><li><p>HTML5的离线存储技术 <a href="http://dev.w3.org/html5/webstorage/">http://dev.w3.org/html5/webstorage/</a></p></li></ol><p>好了， HTML5能做的够多了，但他还处在草案阶段，那关键是现在我们能做什么呢？</p><p>我们能做什么？<br>HTML5估计能在2012年之前成为W3C的候选推荐标准，不过在这之前，只要浏览器支持，我们都可以使用html5的功能。</p><ol><li>HTML5新元素布局。<br>除了ie系列浏览器外，其它大多数浏览器都能识别HTML5的那些新元素标签，可以对其进行style，这就意味着它们可以使用HTML5的新元素标签进行页面布局。<br>但问题是ie系列浏览器是无法对其不承认的元素添加样式的，而缺少了IE的支持，大多数人都会束手束脚。解决这个问题的方法早已经了:HTML5 Shiv<br>很简单:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">document.createElement(&quot;元素名称&quot;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>创建文档元素。<br>批量创建的方法:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(function()&#123;</span><br><span class="line">    if(!/*@cc_on!@*/0) return;    </span><br><span class="line">    var html5 = &quot;abbr,article,aside,audio,bb,canvas,datagrid,datalist,details,dialog,event,source,figure,footer,hgroup,header,mark,menu,meter,nav,output,progress,section,time,video&quot;.split(&#x27;,&#x27;);   </span><br><span class="line">    for(var i = 0, len = html5.length; i &lt; len; i++ ) &#123;       </span><br><span class="line">    document.createElement(html5[i]);  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">();</span><br></pre></td></tr></table></figure>现在在IE里也可以对HTML5元素进行布局了。<br>不过，在此之前，我们还需要对这些新元素定义基本的Display style,<br>这个工作本来一般是由浏览器完成的，比如FireFox的html.css。<br>现在只能自己对引进的HTML5元素进行定义了。<br>那么哪些需要定义成display:block;哪些又是不需要呢？这个我们可以看下W3C是怎么定义的：display-types</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">address, article, aside, blockquote, body, center, dd, dialog, dir,</span><br><span class="line">div, dl, dt, figure, footer, form, h1, h2, h3, h4, h5, h6, header,</span><br><span class="line">hgroup, hr, html, legend, listing, menu, nav, ol, p, plaintext, pre,</span><br><span class="line">section, ul, xmp &#123; display: block; &#125;</span><br></pre></td></tr></table></figure><p>刨除HTML老元素，以下这些元素:<br>article,aside,dialog,figure,footer,header,hgroup,nav,section可以定义为{display:block;}<br>这篇针对HTML 5 Reset Stylesheet的文章也可以参考下：<a href="http://html5doctor.com/html-5-reset-stylesheet/%E3%80%82%E6%96%87%E7%AB%A0%E5%9C%A8Eric%E7%9A%84CSS">http://html5doctor.com/html-5-reset-stylesheet/。文章在Eric的CSS</a> Reset的基础上考虑HTML5新元素及W3C规范推荐下对元素进行了style reset。当然reset CSS本身就存在争议的，一般来说，reset CSS是你自己的style，很多东西都可以按你的意愿来定，当然不要太偏离W3C的元素设计本意。<br>接下来，使用HTML5新元素进行布局就可以随心所欲了（还是悠着点好）。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;HTML5新标签试用&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,dialog,figure,footer,header,hgroup,menu,nav,section,time,mark,audio,video&#123;margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent;&#125;</span><br><span class="line">body &#123;font:normal 12px/140% Georgia,Tahoma,Verdana,Arial,sans-serif;&#125;</span><br><span class="line">article,aside,dialog,figure,footer,header,hgroup,nav,section&#123;display:block;&#125;</span><br><span class="line">ul,ol&#123;list-style:none;&#125;</span><br><span class="line">blockquote, q&#123;quotes:none;&#125;</span><br><span class="line">blockquote:before, blockquote:after,q:before, q:after &#123;content:&#x27;&#x27;;content:none;&#125;</span><br><span class="line">a &#123;margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;background:transparent;&#125;</span><br><span class="line">ins&#123;background-color:#ff9;color:#000;text-decoration:none;&#125;</span><br><span class="line">mark&#123;background-color:#ff9;color:#000;font-style:italic;font-weight:bold;&#125;</span><br><span class="line">del&#123;text-decoration: line-through;&#125;</span><br><span class="line">abbr[title], dfn[title]&#123;border-bottom:1px dotted #000;cursor:help;&#125;</span><br><span class="line">table &#123;border-collapse:collapse;border-spacing:0;&#125;</span><br><span class="line">hr&#123;display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0;&#125;</span><br><span class="line">input,select&#123;vertical-align:middle;&#125;</span><br><span class="line">/* reset over */</span><br><span class="line">body&#123;overflow-x:hidden;&#125;</span><br><span class="line">header&#123;height:60px;background:#669bb7;position:fixed;_position:absolute;left:0;width:100%;&#125;</span><br><span class="line">h1&#123;font:bold 40px/110% Georgia;text-align:center;border-bottom:10px dashed #fff;&#125;</span><br><span class="line">h1 a&#123;text-decoration:none;position:relative;&#125;</span><br><span class="line">h1 span&#123;color:#000;zoom:1;opacity:0.5;filter:alpha(opacity=50);&#125;</span><br><span class="line">h1 b&#123;position:absolute;left:0;margin-left:-2px;margin-top:-1px;color:#fff;cursor:pointer;&#125;</span><br><span class="line">.main&#123;min-width:400px;max-width:970px;overflow:hidden;margin:0 auto;padding-top:70px;_margin:0 20px;&#125;</span><br><span class="line">aside&#123;background:#e2ebf0;float:left;width:160px;padding:5px;margin-right:10px;display:inline;&#125;</span><br><span class="line">.portrait&#123;width:132px;margin:0 auto;padding:5px;text-align:center;border-bottom:1px solid #c0d6df;&#125;</span><br><span class="line">.portrait img&#123;display:block;width:120px;height:180px;padding:3px;background:#fff;border:4px solid #e3e3e3;border-left:2px solid #e0e0e0;border-top:1px solid #e3e3e3;margin-left:1px&#125;</span><br><span class="line">.portrait span&#123;line-height:150%;cursor:help;&#125;</span><br><span class="line">aside nav&#123;padding:5px 10px;&#125;</span><br><span class="line">aside nav li&#123;font-size:14px;line-height:150%;&#125;</span><br><span class="line">aside nav li a&#123;text-decoration:none;color:#005eac;&#125;</span><br><span class="line">section&#123;border-top:20px solid #fff;margin-left:20px;background:#f6f6f6;padding:10px;padding-left:20px;&#125;</span><br><span class="line">article h2&#123;font-size:18px;text-align:center;&#125;</span><br><span class="line">article h2 a&#123;color:#73a6bc&#125;</span><br><span class="line">article h3,article p&#123;margin:8px 0;&#125;</span><br><span class="line">dialog time&#123;padding-left:10px;font-style:italic;&#125;</span><br><span class="line">footer&#123;clear:both;text-align:center;sss&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">(function()&#123;</span><br><span class="line">if(!/*@cc_on!@*/0) return;</span><br><span class="line">var html5 = &quot;abbr,article,aside,audio,bb,canvas,datagrid,datalist,details,dialog,eventsource,figure,footer,hgroup,header,mark,menu,meter,nav,output,progress,section,time,video&quot;.split(&#x27;,&#x27;);</span><br><span class="line">for(var i = 0, len = html5.length; i &lt; len; i++ ) &#123;document.createElement(html5[i]); &#125;&#125;)();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;header&gt;</span><br><span class="line">&lt;h1&gt;&lt;a href=&quot;http://www.cssass.com&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;CSSASS&lt;/span&gt;&lt;b&gt;CSSASS&lt;/b&gt;&lt;/a&gt;&lt;/h1&gt;</span><br><span class="line">&lt;/header&gt;</span><br><span class="line">&lt;div class=&quot;main&quot;&gt;</span><br><span class="line">&lt;aside&gt;</span><br><span class="line">&lt;figure class=&quot;portrait&quot;&gt;</span><br><span class="line">&lt;img alt=&quot;A boy named oneboys said he is The One.&quot;  src=&quot;http://center.blueidea.com/data/avatar/000/36/17/22_avatar_middle.jpg&quot; /&gt;</span><br><span class="line">&lt;!-- &lt;legend&gt;ONEBOYS&lt;/legend&gt;  legend标签在html5之前是只允许作为fieldset的第一个子元素的，所以加在这里会出错。无法实现。我们还是用span来代替--&gt;</span><br><span class="line">&lt;span&gt;ONEBOYS&lt;/span&gt;</span><br><span class="line">&lt;/figure&gt;</span><br><span class="line">&lt;nav&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li&gt;&lt;a href=&quot;#&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;a href=&quot;#&quot;&gt;我的主页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;a href=&quot;#&quot;&gt;个人资料&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;a href=&quot;#&quot;&gt;心情日志&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line">&lt;/aside&gt;</span><br><span class="line">&lt;section&gt;</span><br><span class="line">&lt;article class=&quot;article1&quot;&gt;</span><br><span class="line">        &lt;h2&gt;&lt;a href=&quot;http://html5doctor.com/html-5-reset-stylesheet/&quot; target=&quot;_blank&quot;&gt;HTML 5 Reset Stylesheet&lt;/a&gt;&lt;/h2&gt;</span><br><span class="line">        &lt;p&gt;We’ve had a number of people asking about templates, boilerplates and styling for HTML 5 so to give you all a helping hand and continue on from those basic building blocks that Remy talked about last week I’ve created a HTML 5 reset stylesheet for you to take away and use, edit, amend and update in your projects.&lt;/p&gt;</span><br><span class="line">&lt;p&gt;Based on Eric Meyers CSS reset, I’ve made a few adjustments from Erics work that we’ll get to later but first here’s the file in full and we’ll then break it down step by step.&lt;/p&gt;</span><br><span class="line">&lt;h3&gt;So what’s new then?&lt;/h3&gt;</span><br><span class="line">&lt;p&gt;Well firstly, I’ve removed those elements that have been deprecated from the HTML 5 specification such as &amp;lt;acronym&amp;gt;, &amp;lt;font&amp;gt; and &amp;lt;big&amp;gt; (We’ll cover deprecated elements in more detail in another post). I’ve added in the the new HTML 5 elements to the reset, to remove any default padding, margin and borders. I’ve then added the explicit display:block declaration for those elements that are required to render as blocks.&lt;/p&gt;</span><br><span class="line">&lt;p&gt;I’ve also removed the :focus part from Eric’s stylesheet. There are two reasons for this; the first is that by declaring outline:0 you remove the focus identifier for keyboard users. The second is that although Eric released his stylesheet in good faith that people would edit it and style :focus, they don’t. You will also notice that I’ve set defaults for &lt;ins&gt;&amp;lt;ins&amp;gt&lt;/ins&gt;; as I don’t think they got updated very often in Eric’s styles either.&lt;/p&gt;</span><br><span class="line">&lt;p&gt;Another change from Eric’s stylsheet is that I decided to remove the lines that remove bullets from lists, the reason for this is purely personal. I tend to only add the list style back in when using Erics reset anyway. I have however included nav ul &#123;list-style:none;&#125; to at least remove those pesky bullets from your navigation. &lt;/p&gt;</span><br><span class="line">&lt;h3&gt;Using attribute selectors&lt;/h3&gt;</span><br><span class="line">&lt;p&gt;You’ll notice that I’ve included attribute selctors for &lt;abbr title=&quot;缩写：abbreviation&quot;&gt;&amp;lt;abbr&amp;gt;&lt;/abbr&gt; and &lt;dfn&gt;&amp;lt;dfn&amp;gt;&lt;/dfn&gt;, the reason for this is I only want the style to appear if there is a title attribute to be displayed. The reason for this is primarly for accessibility. For example we use &amp;ltabbr&amp;gt regularly on this site but don’t always include a title attribute, that’s because it’s safe to assume all (no matter what device they are using) our readers know what HTML is, however we need to still include &amp;ltabbr&amp;gt to make sure screenreaders read the text as H-T-M-L rather than “HTML” which they struggle to pronounce.&lt;/p&gt;</span><br><span class="line">&lt;h3&gt;What’s that bit about mark?&lt;/h3&gt;</span><br><span class="line">&lt;p&gt;&lt;mark&gt;&amp;lt;mark&amp;gt&lt;/mark&gt;; is a new element introduced in HTML 5 used to (you guessed it) mark text in a document. The spec describes &lt;mark&gt;&amp;lt;mark&amp;gt&lt;/mark&gt;; as “The mark element represents a run of text in one document marked or highlighted for reference purposes, due to its relevance in another context.”. I anticipate this it will be used for highlighting phrases in search results and similar. We’ll have more on this in a post soon.&lt;/p&gt;</span><br><span class="line">&lt;h3&gt;Where are all those application elements?&lt;/h3&gt;</span><br><span class="line">&lt;p&gt;“Application elements” is the term I’ve used to loosely describe those elements such as &amp;lt;datagrid&amp;gt;, &amp;lt;datalist&amp;gt; etc. Basically those that you are likely to find in web apps rather than websites. These have been left out because at the current time hardly any of what was ‘Web Applications 1.0′ has been implemented by browsers. Also this reset is primarily aimed at those serving their pages as text/html not xml.&lt;/p&gt;</span><br><span class="line">&lt;h3&gt;Go grab it&lt;/h3&gt;</span><br><span class="line">&lt;p&gt;So that basically wraps it up, it’s released under a creative commons license and you can use it for both personal and commercial work. I thought I’d let Google take care of the hosting so go grab it from Google Code and let me know of any thoughts, queries or improvements you can offer.&lt;/p&gt;</span><br><span class="line">&lt;/article&gt;</span><br><span class="line">&lt;/section&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;footer&gt;Copyright © 2009 Cssass.com &lt;/footer&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><ol start="2"><li>Drag &amp; drop<br>Drag &amp; drop是浏览器支持度比较高的HTML5内容：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;title&gt;Drag and Drop&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">   div &#123;margin: 1em 2em; border: black solid;text-align: center;float:left;height: 9em; width: 12em; &#125;</span><br><span class="line">img &#123;width:4em;float:left; &#125;</span><br><span class="line">p&#123;clear:left;&#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line"> &lt;/head&gt;&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;Drag and Drop&lt;/h1&gt;</span><br><span class="line">  &lt;div ondrop=&quot;drop(this, event)&quot; ondragenter=&quot;return false&quot; ondragover=&quot;return false&quot;&gt;</span><br><span class="line">   &lt;p&gt;Good&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div ondrop=&quot;drop(this, event)&quot; ondragenter=&quot;return false&quot; ondragover=&quot;return false&quot;&gt;</span><br><span class="line">   &lt;p&gt;Bad&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;p&gt;</span><br><span class="line">   &lt;img src=&quot;http://www.baidu.com/img/baidu_logo.gif&quot; id=&quot;baidu&quot; alt=&quot;baidu&quot; ondragstart=&quot;drag(this, event)&quot;&gt;</span><br><span class="line">   &lt;img src=&quot;http://www.google.cn/intl/zh-CN/images/logo_cn.gif&quot; id=&quot;google&quot; alt=&quot;google&quot; ondragstart=&quot;drag(this, event)&quot;&gt;</span><br><span class="line">   &lt;img src=&quot;http://www.blueidea.com/img/common/logo.gif&quot; id=&quot;blueidea&quot; alt=&quot;blueidea&quot; ondragstart=&quot;drag(this, event)&quot;&gt;</span><br><span class="line">   &lt;img src=&quot;http://www.w3.org/Icons/w3c_main&quot; id=&quot;W3C&quot; alt=&quot;W3C&quot; ondragstart=&quot;drag(this, event)&quot;&gt;</span><br><span class="line">  &lt;/p&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">   function drag(target, e) &#123;</span><br><span class="line">     e.dataTransfer.setData(&#x27;Text&#x27;, target.id);</span><br><span class="line">   &#125;</span><br><span class="line">   function drop(target, e) &#123;</span><br><span class="line">     var id = e.dataTransfer.getData(&#x27;Text&#x27;);</span><br><span class="line">     target.appendChild(document.getElementById(id));</span><br><span class="line">     e.preventDefault();</span><br><span class="line">   &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line"> &lt;/body&gt;</span><br><span class="line"> &lt;/html&gt;</span><br></pre></td></tr></table></figure></li><li>canvas<br>我们先看一些canvas的示例：<br><a href="http://www.agustinfernandez.com.ar/proyectos/canvas/">http://www.agustinfernandez.com.ar/proyectos/canvas/</a><br><a href="http://www.whatwg.org/demos/2008-sept/color/color.html">http://www.whatwg.org/demos/2008-sept/color/color.html</a><br>网上还有一些互动性蛮强的Demo.<br>canvas应用的发展无疑将威胁到也行进在富Web之路上的Flash和Silverligth这些Web插件。</li></ol><p>canvas在safari,firefox,opera很早就有了支持，但IE缺迟迟不予支持，尽管他在ie8中已经开始支持多个HTML5功能。MS的同志很有理由这么做:“HTML 5标准制定之前,某些功能确实已经得以实现,例如Google Gears实现了离线应用程序功能,Flash和silverlight实现了类似Canvas API的功能.在下一代HTML规范中设置这些内容未必非常必要”。要知道MS在silverlight是花了很大力气。事实上，MS在参与HTML5之事上一直非常谨慎，并且希望精简HTML5。<br>Flash的所有者，HTML5参与者之一Adobe则表现的很轻松：“canvas还很弱，HTML 5 + CSS 3 可能要 10年的时间才能定稿，在这期间，Flash 会持续发展，并提供更好的用户体验”。</p><p>尽管IE没有支持canvas功能，但我们可以使用JS模拟达到：<br><a href="http://excanvas.sourceforge.net/">http://excanvas.sourceforge.net/</a><br>这是其中的一个Demo,试试你的IE:<br>3Dcanvas_For_IE.html</p><ol start="4"><li>audio and video<br>使用FireFox3.5看看下面这个Video Demo。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Video&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Video&lt;/h1&gt;</span><br><span class="line">&lt;video src=&quot;http://v2v.cc/~j/theora_testsuite/320x240.ogg&quot; controls autoplay &gt;</span><br><span class="line">   你的浏览器不支持</span><br><span class="line">&lt;/video&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var video = document.getElementsByTagName(&#x27;video&#x27;)[0];</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;p&gt;&lt;input type=&quot;button&quot; value=&quot;&amp;#x2588; &amp;#x2588;&quot; onclick=&quot;if (video.paused) video.play(); else video.pause()&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li></ol><p>我们没有引入flash播放器就能播放swf。</p><p>在下面这个页面里罗列了各浏览器所支持的HTML5功能：<br>Implementations in Web browsers</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;html5如何而来？&lt;br&gt;HTML isn’t a very good language！它亟待改进。&lt;br&gt;因此，1999年W3C停止了HTML的工作，2000年发布xhtml的第一个推荐版本。&lt;br&gt;2002年W3C发布XHTML 2.0第一个草案，令人吃惊的是：XH</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>JS实现字符unicode编码信息查询</title>
    <link href="https://www.cssass.com/2009/05/02/JS%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6unicode%E7%BC%96%E7%A0%81%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2/"/>
    <id>https://www.cssass.com/2009/05/02/JS%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6unicode%E7%BC%96%E7%A0%81%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2/</id>
    <published>2009-05-02T08:11:04.000Z</published>
    <updated>2023-06-28T08:13:09.952Z</updated>
    
    <content type="html"><![CDATA[<p>这两天在xiaonei的个人状态里看见很多人添加有一些特殊字符，如҉ (据说叫菊花，囧nz)。当然这种字符也还没什么稀奇，这个符号是cyrillic里百万的标识。另外有见到一个能将文字反排显示的不可见字符,比较有趣。如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;RLO(right-to-left override)字符的演示&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; value=&quot;&amp;#8238;我从右往左？&quot;/&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>   此RLO字符的效果就是将文字反排（效果有点类似<bdo dir=rtl>啊。参见：HTML的dir属性和<bdo>标签及其他一些CSS文字排版属性、滤镜 不过bdo这个是需要浏览器解释后才能看见效果的，而此RLO不需要浏览器解释，当然上面代码里使用的是html字符实体编号,这个是需要浏览器解释的。）</p><p>   在UCS（Unicode Character Set）当中，每个字符都有一个unicode编码——不过，拥有unicode码的不一定是字符，也可以是设备控制符。<br>   应该说，很多形式的字符编码都是基于unicode编码的，如URL-encode,ASCll码,HTML Character Entities编号。特别是HTML Character Entities编号，与unicode可以说是一一对应的，只要浏览器支持，charset包含，“&amp;#”+十进制标号+“；”的编码就能在html中使用所有unicode中定义字符。<br>   以上面的RLO字符分析，虽然RLO符看不见，但也是可以被copy的，而且，必然的有一个对应的unicode码。RLO的unicode对应的16进制编号是：202e；10进制是：8238。要在html中使用这个字符，除了copy这个字符过来外，我们可以使用Character Entities References(HTML Entities)：&amp;#+8238+;(不包括+号)，或Numeric Character Reference(NCR):&amp;#+x202e+;。<br>关于如何查到某个字符的unicode编码，每种程序语言应该都有函数可以用来解码为unicode，这里有一个php的解码应用：convert-to-html。这是直接解成html实体编码的。它同unicode的关系只是十进制与十六进制的关系（实质是一样的）。要看16进制unicode只需做下进制转码就行了。知道了16进制编码，我们就可以在这里查询字符的信息：unicode.org</p><p>下面是js写的转码工具：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;字符的unicode码信息查询&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">  body&#123;font-size:13px;background:#ccc;&#125;</span><br><span class="line">  #codeShow&#123;display:none;&#125;</span><br><span class="line">  #codeShow textarea&#123;width:450px;height:80px;&#125;</span><br><span class="line">  #codeShow ul&#123;overflow:hidden;zoom:1;&#125;</span><br><span class="line">  #codeShow li&#123;float:left;width:220px;text-align:center;list-style:none;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">function $id(o)</span><br><span class="line">&#123;</span><br><span class="line">  return document.getElementById(o) || o;</span><br><span class="line">&#125;</span><br><span class="line">function escapeCode()&#123;</span><br><span class="line">    var hexArray = [],</span><br><span class="line">decArray = [],</span><br><span class="line">entiArray = [];</span><br><span class="line">    var decCode,</span><br><span class="line">inTXT = $id(&#x27;inputValue&#x27;).value,</span><br><span class="line">outTXT=&#x27;&#x27;,</span><br><span class="line">entityCode=&#x27;&#x27;,</span><br><span class="line">outList=&quot;&lt;ul&gt;&lt;li&gt;Unicode Character Code编码&lt;/li&gt;&lt;li&gt;HTML Character Entities编号&lt;/li&gt;&lt;li&gt;字符显示&lt;/li&gt;&lt;li&gt;unicode信息查询&lt;/li&gt;&lt;/ul&gt;&quot;;</span><br><span class="line">//if($id(&#x27;convAll&#x27;).checked)&#123;  //true,转换a-z,A-Z等字符的unicode编码</span><br><span class="line">  var character;</span><br><span class="line">  for(i=0; i&lt;inTXT.length; i++)&#123;</span><br><span class="line">character = inTXT.charCodeAt(i).toString(16).toUpperCase();   //法1：使用charCodeAt逐字转码</span><br><span class="line">outTXT += character+&#x27; &#x27;;</span><br><span class="line">hexArray.push(character);</span><br><span class="line">   &#125;</span><br><span class="line">//&#125;</span><br><span class="line">//else&#123;</span><br><span class="line">//outTXT = escape(inTXT);               //法2：使用escape直接转码（不转a-z,A-Z等字符）</span><br><span class="line">//hexArray = outTXT.split(/%u|%/);  //以%u和%做分割插入数组</span><br><span class="line">//&#125;</span><br><span class="line">for(i in hexArray)&#123;</span><br><span class="line">if(hexArray[i]==&#x27;&#x27;) hexArray.splice(i,1); //清除空的数组项（FF）</span><br><span class="line">hexArray[i] = hexArray[i].slice(0,4);     //截取数组项中前四个字符。（消除a-z,A-Z等不解码产生的影响）</span><br><span class="line">decCode = parseInt(hexArray[i],16).toString(10);</span><br><span class="line">decArray.push(decCode);</span><br><span class="line">entityCode += &#x27;&amp;#&#x27;+decCode+&#x27;; &#x27;;</span><br><span class="line">outList+=&quot;&lt;ul&gt;&lt;li&gt;&quot;+hexArray[i]+&quot;&lt;/li&gt;&lt;li&gt;&quot;+decArray[i]+&quot;&lt;/li&gt;&lt;li&gt;\&quot;&amp;#&quot;+decCode+&quot;;\&quot;&lt;/li&gt;&quot;;</span><br><span class="line">outList+=&quot;&lt;li&gt;&lt;form enctype=&#x27;application/x-www-form-urlencoded&#x27; action=&#x27;http://www.unicode.org/cgi-bin/Code2Chart.pl&#x27; method=&#x27;post&#x27; target=&#x27;_blank&#x27;&gt;&quot;;</span><br><span class="line">outList+=&quot;&lt;input type=&#x27;hidden&#x27;  maxlength=&#x27;8&#x27; size=&#x27;8&#x27; name=&#x27;HexCode&#x27; value=&quot;+hexArray[i]+&quot; /&gt;&quot;;</span><br><span class="line">outList+=&quot;&lt;input type=&#x27;submit&#x27; value=&#x27;Go&#x27; name=&#x27;submit&#x27;/&gt;&lt;/form&gt;&lt;/li&gt;&lt;/ul&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">$id(&#x27;outUnicode&#x27;).value = outTXT;   //输出unicode码，以%u或%开头。</span><br><span class="line">$id(&#x27;outEnticode&#x27;).value = entityCode;  //输出字符实体编码</span><br><span class="line">$id(&#x27;outView&#x27;).innerHTML = outList;  //输出编码值，并有unicode信息查询链接。</span><br><span class="line">$id(&#x27;codeShow&#x27;).style.display=&#x27;block&#x27;;</span><br><span class="line"> &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;字符转unicode码&lt;/h2&gt;</span><br><span class="line">（&lt;a href=&quot;http://www.cssass.com/blog/index.php/convert_characters_to_unicode&quot; target=&quot;_blank&quot;&gt;Read  in my Blog&lt;/a&gt;）</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; id=&quot;inputValue&quot; value=&quot;输入字符:如&amp;#1161;&quot; style=&quot;width:180px;height:25px;padding:2px;&quot;/&gt;&lt;label&gt;</span><br><span class="line">&lt;!-- &lt;input id=&quot;convAll&quot; type=&quot;checkbox&quot; /&gt;a-z,A-Z,0-9,@,/,.,+,-,_等字符也加入转码.&lt;/label&gt; --&gt;</span><br><span class="line">&lt;br /&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;转为unicode码&quot; onclick=&quot;escapeCode();&quot;/&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;codeShow&quot;&gt;</span><br><span class="line">16进制Unicode：&lt;br /&gt;</span><br><span class="line">&lt;textarea id=&quot;outUnicode&quot;&gt;&lt;/textarea&gt;&lt;br /&gt;</span><br><span class="line">10进制Enticode：&lt;br /&gt;</span><br><span class="line">&lt;textarea id=&quot;outEnticode&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">&lt;div id=&quot;outView&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>可以解开任意字符的unicode码，并生成字符实体码，而且可以链接到unicode官网查询该字符的信息。<br>js中escape这个函数能直接将字符串转成unicode码，不过有部分属于ASCll编码的字符不会解开。<br>而charCodeAt函数则能解开任何字符的unicode码。</p><p>JS中解码的函数还有encodeURI——这个解开的unicode码我们会经常看见，地址栏里的字符串即出自于此。<br>另外在写了个简单的进制转换工具，支持10进制与16进制之间的互转，比较常用啊。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;16进制，10进制互转&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">body&#123;font-size:13px;background:#ccc;&#125;</span><br><span class="line">#codeShow&#123;width:230px;overflow:hidden;&#125;</span><br><span class="line">.codeWrap&#123;float:left;width:110px;&#125;</span><br><span class="line">.codeWrap textarea&#123;width:100px;height:300px;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;script src=&quot;http://www.cssass.com/public/js/extend.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;十进制与十六进制互转&lt;/h2&gt;</span><br><span class="line">&lt;div id=&quot;codeShow&quot;&gt;</span><br><span class="line">&lt;div class=&quot;codeWrap&quot;&gt;</span><br><span class="line">16进制&lt;br /&gt;</span><br><span class="line">&lt;textarea id=&quot;hexCode&quot; &gt;&lt;/textarea&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;codeWrap&quot;&gt;</span><br><span class="line">10进制&lt;br /&gt;</span><br><span class="line">&lt;textarea id=&quot;decCode&quot; &gt;&lt;/textarea&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function change(code)&#123;</span><br><span class="line">var outs = &#x27;&#x27;;</span><br><span class="line">var a=[];</span><br><span class="line">if(code == &quot;H2D&quot;)&#123;</span><br><span class="line">var vals = $id(&quot;hexCode&quot;).value.split(/[,， ]/);</span><br><span class="line">for(var i=0; i &lt;vals.length; i++)&#123;</span><br><span class="line">outs += parseInt(vals[i],16).toString(10) + &#x27;,&#x27; ;</span><br><span class="line">&#125;</span><br><span class="line">$id(&quot;decCode&quot;).value = outs;</span><br><span class="line">&#125;</span><br><span class="line">else if(code == &quot;D2H&quot;)&#123;</span><br><span class="line">var vals = $id(&quot;decCode&quot;).value.split(/[,， ]/);</span><br><span class="line">for(var i=0; i &lt;vals.length; i++)&#123;</span><br><span class="line">outs += parseInt(vals[i]).toString(16) + &#x27;,&#x27; ;</span><br><span class="line">&#125;</span><br><span class="line">$id(&quot;hexCode&quot;).value = outs;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">events.addEvent($id(&quot;hexCode&quot;),&#x27;keyup&#x27;,function()&#123;</span><br><span class="line">change(&quot;H2D&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">events.addEvent($id(&quot;decCode&quot;),&#x27;keyup&#x27;,function()&#123;</span><br><span class="line">change(&quot;D2H&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;这两天在xiaonei的个人状态里看见很多人添加有一些特殊字符，如҉ (据说叫菊花，囧nz)。当然这种字符也还没什么稀奇，这个符号是cyrillic里百万的标识。另外有见到一个能将文字反排显示的不可见字符,比较有趣。如下：&lt;/p&gt;
&lt;figure class=&quot;highli</summary>
      
    
    
    
    
    <category term="JS" scheme="https://www.cssass.com/tags/JS/"/>
    
  </entry>
  
  <entry>
    <title>HTML的dir属性和bdo标签及其他一些CSS文字排版属性、滤镜</title>
    <link href="https://www.cssass.com/2009/04/14/HTML%E7%9A%84dir%E5%B1%9E%E6%80%A7%E5%92%8Cbdo%E6%A0%87%E7%AD%BE%E5%8F%8A%E5%85%B6%E4%BB%96%E4%B8%80%E4%BA%9BCSS%E6%96%87%E5%AD%97%E6%8E%92%E7%89%88%E5%B1%9E%E6%80%A7%E3%80%81%E6%BB%A4%E9%95%9C/"/>
    <id>https://www.cssass.com/2009/04/14/HTML%E7%9A%84dir%E5%B1%9E%E6%80%A7%E5%92%8Cbdo%E6%A0%87%E7%AD%BE%E5%8F%8A%E5%85%B6%E4%BB%96%E4%B8%80%E4%BA%9BCSS%E6%96%87%E5%AD%97%E6%8E%92%E7%89%88%E5%B1%9E%E6%80%A7%E3%80%81%E6%BB%A4%E9%95%9C/</id>
    <published>2009-04-14T08:06:56.000Z</published>
    <updated>2023-06-28T08:09:38.514Z</updated>
    
    <content type="html"><![CDATA[<p>先看一下HTML4.0中定义的dir属性.对应有两个值ltr(默认值)和rlt。分别表示文本从左向右显示（dir&#x3D;ltr）和文本从右向左显示（dir&#x3D;rtl）。<br>文本从右向左显示的情况（dir&#x3D;rtl）是考虑到一些特殊的文字书写方式（如古中文，希伯来文——但是我们古中文可不止是从右到左，还是从上到下书写的呢）。<br>先看一下Test</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p dir=&quot;rtl&quot;&gt;</span><br><span class="line"> 一二三&lt;br /&gt;</span><br><span class="line"> abc&lt;br/&gt;</span><br><span class="line"> a b c&lt;br /&gt;</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>从这里看，觉得这和css的属性text-align:right，或则HTML中不推荐使用的属性align&#x3D;right并没有什么区别啊。</p><p>这是因为受到了“各种用于语言编码的和显示的Unicode和ISO标准”的影响。整段文落都当成一个不可分割的整体了（不管是什么文字的）。<br>象数字和一些符号就能按空格分隔反排，体现出“从右向左”的显示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p dir=&quot;rtl&quot;&gt;</span><br><span class="line">a b c d / ?</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;p dir=&quot;rtl&quot;&gt;</span><br><span class="line">11 12 13 14 / ?</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>除此之外，这个属性还能在ie下改变滚动条的位置，你见过滚动条显示在滚动内容的左侧的吗？<br>用ie看看下面的效果吧：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body  &gt;</span><br><span class="line">&lt;div dir=&quot;rtl&quot; style=&quot;height:200px;width:500px;overflow:auto;border:1px solid #ccc;&quot;&gt;</span><br><span class="line">a</span><br><span class="line">&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</span><br><span class="line">&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</span><br><span class="line">&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</span><br><span class="line">c</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>综上也可以看出，dir这个属性其实并不怎么好用。幸好我们也基本用不上这个属性。<br>要用我们也最好结合bdo这个标签来使用。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;bdo dir=rtl &gt;</span><br><span class="line">我是谁,who am I?</span><br><span class="line">&lt;/bdo&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>bdo标签必须要带dir属性一起使用。他产生的效果就不论是什么文字字母符号，都以单个字符为单位，颠倒顺序，从右往左显示（我们可以称为“反排效果”）,很彻底啊，我们可以看到，连连续书写的英文字母都被反写了。</p><p>现如今web标准化的春风吹遍大江南北，我们也要与时俱进，贯彻落实结构和表现分离的思想方针，加快发展可扩展性良好的web建设。<br>所以，除了语义化的结构外，我们还推荐将结构之外的表现用CSS属性来实现。<br>前面提到的html属性dir和<bdo>标签所能达到的反排效果，我们也可以使用两个CSS标准属性来实现。<br>第一个CSS属性：direction : ltr | rtl | inherit ——效果对应ＨＴＭＬ属性dir。<br>第二个CSS属性：unicode-bidi : normal | bidi-override | embed——其中的bidi-override属性值效果对应<bdo>标签。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div style=&quot;direction:rtl; unicode-bidi:bidi-override;&quot;&gt;</span><br><span class="line">我是谁,who am I?</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>之前我们还说道古中文的写法并非只是单单的从右往左书写，同时也是由上往下书写的。那么有没有html属性或css属性能达到这个效果（可以称作文字竖排效果吧）呢？<br>css属性倒的确有，还不止一个。但很遗憾，都只是MS的推荐属性，并非W3C的标准属性。所以只有IE系列（ie5.5+）浏览器支持。<br>这两个属性分别是:<br>writing-mode : lr-tb | tb-rl ;<br>layout-flow : horizontal | vertical-ideographic ;</p><p>稍微演示一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div style=&quot;writing-mode:tb-rl;text-align:left;border:1px solid red;&quot;&gt;</span><br><span class="line">writing-mode设置或检索对象内文本的流动和方向。</span><br><span class="line">当此属性值发生变化时，text-align属性与vertical-align属性的作用也将发生变化。</span><br><span class="line">对应的脚本特性为layoutFlow。</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;br /&gt;</span><br><span class="line">&lt;div style=&quot;layout-flow:vertical-ideographic;text-align:right;border:1px solid green;&quot;&gt;</span><br><span class="line">layout-flow设置或检索对象内文本的流动和方向。</span><br><span class="line">当此属性值发生变化时，text-align属性与vertical-align属性的作用也将发生变化。</span><br><span class="line">对应的脚本特性为layoutFlow。</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>个人觉得这两个属性，几乎没什么差别。。。<br>另外，当其高度不设定时。如何自适应的高度，很是令人迷惑。</p><p>再提一个不标准的东西——镜像翻转滤镜——只做了解，不建议使用。<br>前面我们有一个文字反排效果，那是排版上的。而使用这个滤镜呢，不单是排版上反过来了。连文字的显示都反过来了（镜像翻转效果）。——当然只支持ie系列（ie4+）。<br>滤镜有两个，一个是水平翻转滤镜：fliph。一个事垂直翻转滤镜flipv。<br>注：使用这个滤镜需要触发haslayout.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">h2&#123;zoom:1;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2 style=&quot;filter:fliph()&quot;&gt;左右翻转&lt;/h2&gt;</span><br><span class="line">&lt;h2 style=&quot;filter:flipv()&quot;&gt;上下翻转&lt;/h2&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>提到这个翻转镜像效果，倒想起了自己之前的一个娱乐之作：重型7级absolute单层1像素真实web2.0渐变风格倒影字效果（全兼容） 。</p><p>文章到这里，我们已经提到了关于页面，文字排版相关的html属性，html标签，CSS属性以及CSS滤镜。除此之外，可以改变文字排版方式（文字反排）的还有一个RLO符。<br>请看：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;RLO(right-to-left override)字符的演示&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; value=&quot;&amp;#8238;我从右往左？&quot;/&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>这个RLO符的unicode编码是：202E 。字符实体编号是：8238<br>可以参考这篇后文：JS实现字符unicode编码信息查询</p><p>最后，我们还要提一个由字体产生的文字侧倒的效果。<br>运行下如下代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;文字侧倒&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div style=&quot;font-family:&#x27;@宋体&#x27;;&quot; &gt;1要吃饭我要吃饭&lt;/div&gt;</span><br><span class="line">&lt;br /&gt;</span><br><span class="line">&lt;span style=&quot;font-family:&#x27;@黑体&#x27;;&quot;&gt;2我要吃饭我要吃饭我&lt;/span&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>这个相信一些修改过QQ聊天字体的童鞋们也发现过，选择QQ聊天字体里这类前面带@符的字体就能打出侧倒的文字。<br>不过，这浏览器下显示，会有一些差异。比如FF下不支持，（我的）safari下不支持@宋体。<br>另外，还有些人反映自己的自己上根本没有效果。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;先看一下HTML4.0中定义的dir属性.对应有两个值ltr(默认值)和rlt。分别表示文本从左向右显示（dir&amp;#x3D;ltr）和文本从右向左显示（dir&amp;#x3D;rtl）。&lt;br&gt;文本从右向左显示的情况（dir&amp;#x3D;rtl）是考虑到一些特殊的文字书写方式（如古</summary>
      
    
    
    
    
    <category term="HTML" scheme="https://www.cssass.com/tags/HTML/"/>
    
  </entry>
  
  <entry>
    <title>定位元素间的Z值比较及z-index在不同浏览器下默认值的影响</title>
    <link href="https://www.cssass.com/2009/02/07/%E5%AE%9A%E4%BD%8D%E5%85%83%E7%B4%A0%E9%97%B4%E7%9A%84Z%E5%80%BC%E6%AF%94%E8%BE%83%E5%8F%8Az-index%E5%9C%A8%E4%B8%8D%E5%90%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8B%E9%BB%98%E8%AE%A4%E5%80%BC%E7%9A%84%E5%BD%B1%E5%93%8D/"/>
    <id>https://www.cssass.com/2009/02/07/%E5%AE%9A%E4%BD%8D%E5%85%83%E7%B4%A0%E9%97%B4%E7%9A%84Z%E5%80%BC%E6%AF%94%E8%BE%83%E5%8F%8Az-index%E5%9C%A8%E4%B8%8D%E5%90%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8B%E9%BB%98%E8%AE%A4%E5%80%BC%E7%9A%84%E5%BD%B1%E5%93%8D/</id>
    <published>2009-02-07T07:53:15.000Z</published>
    <updated>2023-06-28T08:03:46.550Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>z-index在ie下缺省为：z-index:0; 而FF下则缺省为：z-index:auto;</p></blockquote><p>正是IE&#x2F;FF下这一点区别导致ie,ff下z值的不同表现。<br>注意：此处所说的z值区别于z-index,它指的是z轴层叠等级(stack level)，表示垂直于显示屏方向上的各层的层叠顺序。z-index值须在设置position:relative&#x2F;absolute&#x2F;fixed之后方才生效，而不止z-index一个属性会影响到z轴层叠等级的大小（本文对其他属性的影响暂不做讨论，但本文的研究已排除其他属性的影响，其他属性不会影响本文的研究）。</p><blockquote><p>正常情况下：兄弟（同级）元素后者居上，父子之间子高于父。</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;各级元素间z的关系&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">    div&#123;display:block;width:400px;height:200px;&#125;</span><br><span class="line">.father1, .son1&#123;border:2px solid #cfc&#125;</span><br><span class="line">.father2, .son2&#123;border:2px solid #fcf&#125;</span><br><span class="line">/* */</span><br><span class="line">.father1, .father2&#123;position:relative;background:#aaa;&#125;</span><br><span class="line">    .son1, .son2&#123;position:absolute;background:#eee;left:20px;top:20px;&#125;</span><br><span class="line">/* */</span><br><span class="line">.father2&#123;top:-40px;left:20px;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;father1&quot;&gt;</span><br><span class="line">    父级1</span><br><span class="line">         &lt;div class=&quot;son1&quot;&gt;</span><br><span class="line">            子级1</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;father2&quot;&gt;</span><br><span class="line">    父级2</span><br><span class="line">         &lt;div class=&quot;son2&quot;&gt;</span><br><span class="line">            子级2</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>可以看出z的等级：子级2（“堂弟”）&gt;父级2（“叔叔”）&gt;子级1（“子”）&gt;父级1（“父”）。</p><p>如果我们想要父盖过子，兄罩着弟只需设置其z-index便可。z-index值越大，给予的z值就越大。<br>那么这个设置能否改变叔侄之间，堂兄弟之间的Z呢？<br>先试试看：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;侄子盖过叔叔，堂兄罩着堂弟&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">    div&#123;display:block;width:400px;height:200px;&#125;</span><br><span class="line">.father1, .son1&#123;border:2px solid #cfc&#125;</span><br><span class="line">.father2, .son2&#123;border:2px solid #fcf&#125;</span><br><span class="line">/* */</span><br><span class="line">.father1, .father2&#123; background:#aaa; &#125;</span><br><span class="line">    .son1, .son2&#123;background:#eee; &#125;</span><br><span class="line">/* */</span><br><span class="line">.son1&#123;position:relative;z-index:1000;top:20px;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;father1&quot;&gt;</span><br><span class="line">    父级1</span><br><span class="line">         &lt;div class=&quot;son1&quot;&gt;</span><br><span class="line">            子级1</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;father2&quot;&gt;</span><br><span class="line">    父级2</span><br><span class="line">         &lt;div class=&quot;son2&quot;&gt;</span><br><span class="line">            子级2</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>看上去一样有效，是吧？子级1盖过了父级2和子级2。</p><p>但是，再看看下面这个例子，假如各级元素都是定位元素(设置了position),情况就有些不同了（之后的讨论，都是基于这个条件之下的。我觉得position定位的应用非常广泛，基于此的研究也非常有必要）。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;ie/ff下表现不同&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">    div&#123;display:block;width:400px;height:200px;&#125;</span><br><span class="line">.father1, .son1&#123;border:2px solid #cfc&#125;</span><br><span class="line">.father2, .son2&#123;border:2px solid #fcf&#125;</span><br><span class="line">/* */</span><br><span class="line">.father1, .father2&#123;position:relative;background:#aaa;&#125;</span><br><span class="line">    .son1, .son2&#123;position:absolute;background:#eee;left:20px;top:20px;&#125;</span><br><span class="line">.father2&#123;top:-40px;left:20px;&#125;</span><br><span class="line">/* */</span><br><span class="line">.son1&#123;z-index:1000;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;father1&quot;&gt;</span><br><span class="line">    父级1</span><br><span class="line">         &lt;div class=&quot;son1&quot;&gt;</span><br><span class="line">            子级1</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;father2&quot;&gt;</span><br><span class="line">    父级2</span><br><span class="line">         &lt;div class=&quot;son2&quot;&gt;</span><br><span class="line">            子级2</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>son1设置z-index:1000后，在FF下的z值级别就高于其叔与其堂弟father2,son2。但是在ie下这个设置却还是不行。<br>这时候，我们回过头看最前面的结论：z-index在ie下缺省为：z-index:0; 而FF下则缺省为：z-index:auto;<br>那么再写一个Test，将父级的z-index固定为0:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;Z-index默认值的影响&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">    div&#123;display:block;width:400px;height:200px;&#125;</span><br><span class="line">.father1, .son1&#123;border:2px solid #cfc&#125;</span><br><span class="line">.father2, .son2&#123;border:2px solid #fcf&#125;</span><br><span class="line">/* */</span><br><span class="line">.father1, .father2&#123;position:relative;background:#aaa;z-index:0;&#125;</span><br><span class="line">    .son1, .son2&#123;position:absolute;background:#eee;left:20px;top:20px;&#125;</span><br><span class="line">.father2&#123;top:-40px;left:20px;&#125;</span><br><span class="line">/* */</span><br><span class="line">.son1&#123;z-index:1000;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;father1&quot;&gt;</span><br><span class="line">    父级1</span><br><span class="line">         &lt;div class=&quot;son1&quot;&gt;</span><br><span class="line">            子级1</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;father2&quot;&gt;</span><br><span class="line">    父级2</span><br><span class="line">         &lt;div class=&quot;son2&quot;&gt;</span><br><span class="line">            子级2</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>可以看出，一旦父级元素设置了相同的z-index，ff下“侄”元素一样无法超过“叔”元素和“堂弟”元素。</p><p>我们可以试着得出这么一个结论：</p><blockquote><p>对于定位元素，（不论IE还是FF）非同级关系和非父子关系元素之间的Z值大小比较，须要回溯至其为兄弟关系的两个祖先元素上，先比较这两个元素的z-index值，只有当“兄”的z-index大于“弟”的z-index值，“兄”的各个后代元素，才能超过“弟元素”及其子孙元素。</p></blockquote><p>我们用一个三级关系来验证一下。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;三级关系验证本文结论&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">    div&#123;display:block;width:400px;height:200px;&#125;</span><br><span class="line">#first,#first div&#123;border:2px solid #cfc&#125;</span><br><span class="line">#second,#second div&#123;border:2px solid #fcf&#125;</span><br><span class="line">#second&#123;top:-80px;&#125;</span><br><span class="line">/* */</span><br><span class="line">    .grandfather&#123;position:relative;background:#aaa;z-index:0;&#125;</span><br><span class="line">.father&#123;position:absolute;background:#ccc;left:20px;top:20px;z-index:0;&#125;</span><br><span class="line">    .son&#123;position:absolute;background:#eee;left:20px;top:20px;z-index:0;&#125;</span><br><span class="line">/*  */</span><br><span class="line">    #first&#123;z-index:1;&#125;</span><br><span class="line">    #first .father&#123;z-index:1;&#125;</span><br><span class="line">    #first .son&#123;z-index:1;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"> &lt;div id=&quot;first&quot; class=&quot;grandfather&quot;&gt;</span><br><span class="line">    祖父级</span><br><span class="line">    &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    父级</span><br><span class="line">         &lt;div class=&quot;son&quot;&gt;</span><br><span class="line">            子级</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"> &lt;div id=&quot;second&quot;  class=&quot;grandfather&quot;&gt;</span><br><span class="line">    祖父级</span><br><span class="line">    &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    父级</span><br><span class="line">         &lt;div class=&quot;son&quot;&gt;</span><br><span class="line">            子级</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>不论#first .father和#first .son如何设置，只有#first的z-index值大于0（second的z-index值为0）时，才能盖住#second。</p><p>对于IE,元素的z-index缺省值是0，如果不另外设置“兄”，“弟”元素的z-index值，那么”兄”的z-index就无法大于“弟”的z-index。那么”兄”元素及其子孙就无法盖过”弟”元素及其子孙。而一旦“兄”的z-index大过了”弟”元素的z-index,那么情况就翻转了，“弟”元素及其子孙将无法盖过“兄”元素及其子孙。<br>而对FF,元素的z-index缺省值是auto,auto的意思是什么，就是说“随便，不关我事”，那么子孙们的z值等级就只跟他们自己本身的z-index有关了。<br>那么，IE上能否设置z-index:auto;呢？</p><p>测试：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;测试IE下的z-index:auto属性&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">    div&#123;display:block;width:400px;height:200px;&#125;</span><br><span class="line">#first,#first div&#123;border:2px solid #cfc&#125;</span><br><span class="line">#second,#second div&#123;border:2px solid #fcf&#125;</span><br><span class="line">#second&#123;top:-80px;&#125;</span><br><span class="line">/* */</span><br><span class="line">    .grandfather&#123;position:relative;background:#aaa;z-index:auto;&#125;</span><br><span class="line">.father&#123;position:absolute;background:#ccc;left:20px;top:20px;z-index:auto;&#125;</span><br><span class="line">    .son&#123;position:absolute;background:#eee;left:20px;top:20px;z-index:auto;&#125;</span><br><span class="line">/*  #first&#123;z-index:1;&#125;   */</span><br><span class="line">    #first .father&#123;z-index:1;&#125;</span><br><span class="line">    #first .son&#123;z-index:1;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"> &lt;div id=&quot;first&quot; class=&quot;grandfather&quot;&gt;</span><br><span class="line">    祖父级</span><br><span class="line">    &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    父级</span><br><span class="line">         &lt;div class=&quot;son&quot;&gt;</span><br><span class="line">            子级</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"> &lt;div id=&quot;second&quot;  class=&quot;grandfather&quot;&gt;</span><br><span class="line">    祖父级</span><br><span class="line">    &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    父级</span><br><span class="line">         &lt;div class=&quot;son&quot;&gt;</span><br><span class="line">            子级</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>可以看出，在IE下，去除#first{z-index:1}后，#first及其子孙无法盖住#second。<br>而FF下，#first .father,#first .son却盖住了整个#second。</p><p>推论：</p><blockquote><p>z-index:auto在ie下无效。</p></blockquote><p>那么在IE下，对于由定位元素构成的两个并列的嵌套结构块间的Z值大小，只存在两种情况：要么这个结构块里的所有层元素都在另一个结构块之上，要么就是那个结构块所有元素在其之上。没有可能一个元素能插在另一个结构块的父与子之间，这种情况在FF下是存在的（当然，还有其他浏览器），在FF下，父级是z-index:auto的元素，他们都是自由的，依据自己的z-index决定Z值。FF下甚至可以形成：<br>————-<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">————-</span><br></pre></td></tr></table></figure><br>这么一个四层交错，但要超过四层，就无能为力了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;title&gt;FF下的四层交错&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">    div&#123;display:block;width:400px;height:200px;&#125;</span><br><span class="line">#first,#first div&#123;border:2px solid #cfc&#125;</span><br><span class="line">#second,#second div&#123;border:2px solid #fcf&#125;</span><br><span class="line">#second&#123;top:-80px;&#125;</span><br><span class="line">/* */</span><br><span class="line">    .grandfather&#123;position:relative;background:#aaa;z-index:auto;&#125;</span><br><span class="line">.father&#123;position:absolute;background:#ccc;left:20px;top:20px;z-index:auto;&#125;</span><br><span class="line">    .son&#123;position:absolute;background:#eee;left:20px;top:20px;z-index:auto;&#125;</span><br><span class="line">/* */</span><br><span class="line">    #first .father&#123;z-index:1;&#125;</span><br><span class="line">    #first .son&#123;z-index:3;&#125;</span><br><span class="line">#second .father&#123;z-index:2;&#125;</span><br><span class="line">#second .son&#123;z-index:4;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"> &lt;div id=&quot;first&quot; class=&quot;grandfather&quot;&gt;</span><br><span class="line">    祖父级</span><br><span class="line">    &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    父级</span><br><span class="line">         &lt;div class=&quot;son&quot;&gt;</span><br><span class="line">            子级</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"> &lt;div id=&quot;second&quot;  class=&quot;grandfather&quot;&gt;</span><br><span class="line">    祖父级</span><br><span class="line">    &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    父级</span><br><span class="line">         &lt;div class=&quot;son&quot;&gt;</span><br><span class="line">            子级</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>补充：关于z-index:auto的解释，在W3C的CSS说明文档中的解释是：</p><blockquote><p>The stack level of the generated box in the current stacking context is the same as its parent’s box. The box does not establish a new local stacking context.</p></blockquote><p>即Z的层叠等级将继承父级，不创建新的层叠内容。</p><p>这段说明在CSS2和CSS2.1中是完全一致的，那为什么ie”不支持” z-index:auto呢？</p><p>在css2中有一段css2.1中所没有的解释：</p><blockquote><p>An element that establishes a local stacking context generates a box that has two stack levels: one for the stacking context it creates (always ‘0′) and one for the stacking context to which it belongs (given by the ‘z-index’ property).</p></blockquote><p>一个元素创建的层叠内容框包含两个层叠等级，一个是就是创建的层叠内容（总是“0”），另一个就是这个层叠内容包含的子层叠内容（由“z-index”属性决定）。</p><p>所以在ie当中，即便某元素设置z-index：auto，它所继承的z也是0。<br>这貌似同我们文章中第一段结论一致。也勉强解释了为什么z-index:auto在IE中无效。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;&lt;p&gt;z-index在ie下缺省为：z-index:0; 而FF下则缺省为：z-index:auto;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;正是IE&amp;#x2F;FF下这一点区别导致ie,ff下z值的不同表现。&lt;br&gt;注意：此处所说的z值区别于z-in</summary>
      
    
    
    
    
    <category term="CSS2" scheme="https://www.cssass.com/tags/CSS2/"/>
    
  </entry>
  
  <entry>
    <title>Position定位巧做彩虹字，倒影字效果</title>
    <link href="https://www.cssass.com/2008/11/20/Position%E5%AE%9A%E4%BD%8D%E5%B7%A7%E5%81%9A%E5%BD%A9%E8%99%B9%E5%AD%97%EF%BC%8C%E5%80%92%E5%BD%B1%E5%AD%97%E6%95%88%E6%9E%9C/"/>
    <id>https://www.cssass.com/2008/11/20/Position%E5%AE%9A%E4%BD%8D%E5%B7%A7%E5%81%9A%E5%BD%A9%E8%99%B9%E5%AD%97%EF%BC%8C%E5%80%92%E5%BD%B1%E5%AD%97%E6%95%88%E6%9E%9C/</id>
    <published>2008-11-20T07:39:02.000Z</published>
    <updated>2023-06-28T07:42:56.117Z</updated>
    
    <content type="html"><![CDATA[<p>“阴阳字”</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">body&#123;background:#E9F5EE; font-family:&#x27;黑体&#x27;;  font-size:15pt;&#125;</span><br><span class="line">.wrap&#123;</span><br><span class="line">    position:absolute;</span><br><span class="line">    top:8pt;</span><br><span class="line">    overflow:hidden;</span><br><span class="line">    &#125;</span><br><span class="line">.color&#123;</span><br><span class="line">    position:relative;</span><br><span class="line">    top:-8pt;</span><br><span class="line">    color:#ccc;</span><br><span class="line">   &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div style=&quot;position:relative;&quot;&gt;</span><br><span class="line">&lt;div class=&quot;wrap&quot;&gt;&lt;span class=&quot;color&quot;&gt;半色字213font阴阳字（只限单行文字）&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">&lt;span class=&quot;back&quot;&gt;半色字213font阴阳字（只限单行文字）&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>彩虹字</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">body&#123;background:#3e4b5c; color:#b7e2e9; font-size:15pt;&#125;</span><br><span class="line">.fonts&#123;position:absolute; overflow:hidden; height:2pt;  &#125;</span><br><span class="line">.colors&#123;position:relative;&#125;</span><br><span class="line">.fonts0&#123; top:1pt; &#125;</span><br><span class="line">.colors0&#123; top:-1pt; color:#e61765;&#125;</span><br><span class="line">.fonts1&#123; top:3pt; &#125;</span><br><span class="line">.colors1&#123; top:-3pt; color:#d7588f;&#125;</span><br><span class="line">.fonts2&#123; top:5pt; &#125;</span><br><span class="line">.colors2&#123; top:-5pt; color:#cb8eb2;&#125;</span><br><span class="line">.fonts3&#123; top:5pt; &#125;</span><br><span class="line">.colors3&#123; top:-5pt; color:#c4a8c4;&#125;</span><br><span class="line">.fonts4&#123; top:7pt; &#125;</span><br><span class="line">.colors4&#123; top:-7pt; color:#c2b4cb;&#125;</span><br><span class="line">.fonts5&#123; top:9pt; &#125;</span><br><span class="line">.colors5&#123; top:-9pt; color:#bccbd9;&#125;</span><br><span class="line">.fonts6&#123; top:11pt; &#125;</span><br><span class="line">.colors6&#123; top:-11pt; color:#b7e2e9;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div style=&quot;position:relative;&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts0&quot;&gt;&lt;span class=&quot;colors colors0&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts1&quot;&gt;&lt;span class=&quot;colors colors1&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts2&quot;&gt;&lt;span class=&quot;colors colors2&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts3&quot;&gt;&lt;span class=&quot;colors colors3&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts4&quot;&gt;&lt;span class=&quot;colors colors4&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts5&quot;&gt;&lt;span class=&quot;colors colors5&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts6&quot;&gt;&lt;span class=&quot;colors colors6&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;span class=&quot;back&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>倒影字：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">body&#123;background:#E9F5EE; font-family:&#x27;黑体&#x27;;  font-size:18px;&#125;</span><br><span class="line">.fonts&#123;position:absolute; overflow:hidden; height:1px;&#125;</span><br><span class="line">.back&#123;position:relative;&#125;</span><br><span class="line">.fonts0&#123; top:18px; &#125;</span><br><span class="line">.back0&#123; top:-15px; color:#999; &#125;</span><br><span class="line">.fonts1&#123; top:19px; &#125;</span><br><span class="line">.back1&#123; top:-14px; color:#aaa;&#125;</span><br><span class="line">.fonts2&#123; top:20px; &#125;</span><br><span class="line">.back2&#123; top:-13px; color:#bbb;&#125;</span><br><span class="line">.fonts3&#123; top:21px; &#125;</span><br><span class="line">.back3&#123; top:-12px; color:#bbb;&#125;</span><br><span class="line">.fonts4&#123; top:22px; &#125;</span><br><span class="line">.back4&#123; top:-11px; color:#ccc;&#125;</span><br><span class="line">.fonts5&#123; top:23px; &#125;</span><br><span class="line">.back5&#123; top:-10px; color:#ccc;&#125;</span><br><span class="line">.fonts6&#123; top:24px; &#125;</span><br><span class="line">.back6&#123; top:-9px; color:#ddd;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div style=&quot;position:relative; height:25px;&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts0&quot;&gt;&lt;span class=&quot;back back0&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts1&quot;&gt;&lt;span class=&quot;back back1&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts2&quot;&gt;&lt;span class=&quot;back back2&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts3&quot;&gt;&lt;span class=&quot;back back3&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts4&quot;&gt;&lt;span class=&quot;back back4&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts5&quot;&gt;&lt;span class=&quot;back back5&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;fonts fonts6&quot;&gt;&lt;span class=&quot;back back6&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;span class=&quot;front&quot;&gt;阔地网络阔地网络阔地网络阔地网络&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;“阴阳字”&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/spa</summary>
      
    
    
    
    
    <category term="CSS2" scheme="https://www.cssass.com/tags/CSS2/"/>
    
  </entry>
  
</feed>
